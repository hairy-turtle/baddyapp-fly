import{ref as e,computed as t,watch as n,defineComponent as r,resolveComponent as a,openBlock as i,createElementBlock as o,createVNode as u,withCtx as l,createTextVNode as c,Fragment as s,renderList as f,createBlock as d,toDisplayString as v,createElementVNode as p,normalizeClass as h,createCommentVNode as _,toRefs as g,resolveDirective as m,withDirectives as y,onBeforeMount as b,onMounted as w,onUnmounted as x,unref as S,getCurrentScope as C,onScopeDispose as k,getCurrentInstance as I,nextTick as A,inject as O,withKeys as P,withModifiers as j,vShow as T}from"vue";import{useApi as E,useItems as L,defineLayout as R}from"@directus/extensions-sdk";import{defineStore as D}from"pinia";import{useRoute as M}from"vue-router";import{useI18n as q}from"vue-i18n";const N=4,z=12,B=16,$=5e3;var W=(e=>(e.Directory="Directory",e.Courts="Courts",e.Players="Players",e))(W||{}),U=(e=>(e.Inactive="Inactive",e.InProgress="In-Progress",e.ConfirmComplete="Confirm-Complete",e.AwaitingSelection="Awaiting-Selection",e.SelectingPlayers="Selecting-Players",e))(U||{});const V=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}}}();var F=(e=>(e.added_players_to_court="added_players_to_court",e.removed_players_from_court="removed_players_from_court",e.player_attendance_changed="player_attendance_changed",e.player_queue_state_changed="player_queue_state_changed",e.player_pause_state_changed="player_pause_state_changed",e))(F||{});const Q=D("courtStore",(()=>{let r,a,i;const o=E(),u=e(null),l=e([]),{items:c,getItems:s}=L(e("ht_events"),{sort:t((()=>["-date_created"])),page:e(1),limit:e(6e3),fields:t((()=>["id","date_created","date_updated","player_id","court","session","is_captain"])),filter:t((()=>null===u.value?null:{session:{_eq:u.value}})),search:e()},!0),{items:f,itemCount:d,getItems:v}=L(e("ht_directory"),{sort:t((()=>null)),page:e(1),limit:e(5e3),fields:t((()=>["id","first_name","last_name","level","membership_expiry"])),filter:t((()=>null)),search:e()},!1),{items:p,getItems:h}=L(e("ht_session_players"),{sort:t((()=>null)),page:e(1),limit:t((()=>null===u.value?0:8888)),fields:t((()=>["id","session_id","player_id","attended","paused","queued_at","date_created","date_updated"])),filter:t((()=>null===u.value?null:{session_id:{_eq:u.value}})),search:e()},!0),{courtStates:_,loadCourtEventsFromServer:g}=function(){const t=e({});return n((()=>[c.value]),r,{immediate:!0}),{courtStates:t,loadCourtEventsFromServer:r};function r(){console.log("Loading court players from server");for(let e=1;e<=z;e++){const n=t.value[e];void 0!==n?n.players=a(e):t.value[e]={number:e,state:U.Inactive,players:a(e),active:!1,start_time:new Date,end_time:new Date}}}function a(e){const t=c.value.filter((t=>t.court===e.toString()&&null===t.date_updated));if(0===t.length||!l.value.includes(e)){const e=[];for(let t=0;t<N;t++)e.push(j());return e}if(t.length>N)throw D(e),new Error(`Court ${e} has more than ${N} players`);const n=t.map((e=>{const t=f.value.find((t=>t.id===e.player_id));return t?{id:t.id,first_name:t.first_name,last_name:t.last_name,full_name:`${t.first_name} ${t.last_name}`,level:Number(t.level),pause:!1,member:q(t),last_active:B(t.id)}:{id:e.player_id,first_name:"Unknown",last_name:"Player",full_name:"Unknown Player",level:5,pause:!0,member:!1,last_active:B(e.player_id)}}));for(let e=n.length;e<N;e++)n.push(j());return n.sort(((e,t)=>void 0===e.last_active&&void 0===t.last_active?0:void 0===e.last_active?1:void 0===t.last_active?-1:e.last_active.getTime()-t.last_active.getTime())),n}}(),{waitList:m,queuedPlayersGroups:y}=function(){const t=e([]),r=e([]),i=e(!1);return V.on(F.player_attendance_changed,o),n((()=>[u.value,_.value,c.value,p.value,f.value]),o,{immediate:!0}),{waitList:t,queuedPlayersGroups:r,recalculateWaitList:o};function o(){i.value||(i.value=!0,a&&clearTimeout(a),a=setTimeout((()=>{i.value=!1,async function(){if(0===f.value.length)return;const e=c.value.filter((e=>null===e.date_updated));t.value=[];for(const n of p.value){const r=f.value.find((e=>e.id===n.player_id)),a=n.attended,i=e.find((e=>e.player_id===n.player_id)),o=t.value.find((e=>e.id===n.player_id));r&&a&&!i&&!o&&t.value.push({id:r.id,first_name:r.first_name,last_name:r.last_name,full_name:`${r.first_name} ${r.last_name}`,level:Number(r.level),pause:n.paused,member:q(r),last_active:B(n.player_id),queued_at:n.queued_at?new Date(n.queued_at):null})}i.value=!1,function(){let e=[];const n=t.value.filter((e=>null!==e.queued_at));n.sort(((e,t)=>e.queued_at.getTime()-t.queued_at.getTime()));for(let r=0;r<n.length;r+=N){const a=n.slice(r,r+N).map((e=>t.value.find((t=>t.id===e.id))));a.length===N&&e.push(a)}let a=!1;if(e.length!==r.value.length)a=!0;else for(let t=0;t<e.length;t++){const n=e[t],i=r.value[t];if(!n||!i)return;if(n.length!==i.length){a=!0;break}for(let e=0;e<n.length;e++)if(n[e].id!==i[e].id){a=!0;break}}a&&(r.value=e,console.log("queuedPlayersGroups",e.length))}()}()}),100))}}(),b=t((()=>{const e=Object.entries(_.value).find((([,e])=>e.state===U.SelectingPlayers));return e?Number(e[0]):null})),w=M(),x=e(null),S=e(null),C=e(null),k=e(new Set([W.Courts,W.Players,W.Directory]));return n((()=>w.params),(e=>{"ht_events"===e.collection&&(console.log("Refreshing layout"),I())}),{immediate:!0}),n((()=>[u.value]),P,{immediate:!0}),n((()=>Object.values(_.value)),(()=>{Object.values(_.value).find((e=>e.state===U.SelectingPlayers||e.state===U.ConfirmComplete))?A(W.Courts):O(W.Courts)}),{deep:!0}),clearInterval(i),i=setInterval((()=>{k.value.has(W.Courts)&&s(),k.value.has(W.Players)&&h(),k.value.has(W.Directory)&&v()}),$),{playersDirectory:f,directoryItemCount:d,sessionPlayers:p,refreshSessionPlayers:h,commitSessionPlayersChanges:async function(e){if(null===u.value)return;const t=p.value.filter((t=>e.find((e=>e.id===t.player_id))));if(t.length>0){const n=t.map((t=>{var n,r;const a=null!=(r=null==(n=e.find((e=>e.id===t.player_id)))?void 0:n.attending)&&r;return{id:t.id,player_id:t.player_id,session_id:u.value,attended:a,paused:!1}}));await o.patch("/items/ht_session_players",n)}const n=t.map((e=>e.player_id)),r=e.filter((e=>!n.includes(e.id)));if(r.length>0){const e=r.map((e=>{const t=e.attending;return{session_id:u.value,player_id:e.id,attended:t,paused:!1}}));await o.post("/items/ht_session_players",e)}await h(),V.emit(F.player_attendance_changed)},commitQueuedSessionPlayers:Q,courtEvents:c,addPlayersToCourt:async function(e,t){Q(t,!1);const n=c.value.filter((t=>t.court===e.toString()&&null===t.date_updated));if(n.length>0){console.log(`Players already playing on court ${e}:`);for(const t of n)console.log(`Player ${t.player_id} is found on court ${e}.`);return}console.log(`No players found on court ${e}, ok to proceed.`);const r=t.map((n=>{const r=0===t.indexOf(n);return{date_created:new Date((new Date).getTime()+100*t.indexOf(n)),session:u.value,court:b.value?b.value:e,player_id:n.id,is_captain:r}}));if(r.length>0){console.log("addPlayersToCourt paramsArrayPost: ",r),await o.post("/items/ht_events",r),await s(),V.emit(F.added_players_to_court,e);const n=_.value[e];if(void 0!==n){n.players=t;for(const e of t)m.value=m.value.filter((t=>t.id!==e.id))}else alert(`Court ${e} is not initialised!`)}},removePlayersFromCourt:D,markHistoricalEventsAsUpdated:async function(e){return},selectedSessionId:u,courtStates:_,courtInSelectMode:b,activeCourts:l,waitList:m,queuedPlayersGroups:y,togglePlayerPaused:async function(e){e.pause=!e.pause;const t=(await o.get("/items/ht_session_players/",{params:{fields:["id","session_id","player_id","attended","paused"],limit:1,filter:{session_id:{_eq:u.value},player_id:{_eq:e.id}}}})).data.data;if(t.length>0){const n=t[0].id;await o.patch(`/items/ht_session_players/${n}`,{paused:e.pause})}await h(),V.emit(F.player_pause_state_changed)},reloadLayout:I,isPlayerACurrentMember:q,playerToSwapOut:S,playerToSwapIn:C,playerToSwapCourtNumber:x,confirmSwapPlayers:async function(){var e;if(null===x.value)return;const t=x.value,n=_.value[t];if(null===S.value)return;if(null===C.value)return;if(void 0===n)return;const r=n.players,a=r.findIndex((e=>e.id===S.value.id));r[a]=C.value;const i=null==(e=c.value.find((e=>e.player_id===S.value.id)))?void 0:e.id;await o.patch(`/items/ht_events/${i}`,{player_id:C.value.id,date_updated:null}),S.value=null,C.value=null,x.value=null,s()},pauseAppRefreshItem:A,resumeAppRefreshItem:O};function I(){s(),h(),v(),P()}function A(e){k.value.delete(e)}function O(e){k.value.add(e)}async function P(){if(u.value&&_.value){try{console.log("Fetching session data for session: ",u.value);const e=(await o.get(`/items/ht_session/${u.value}`,{params:{fields:["id","session_date","start_datetime","end_datetime","court_allocation"]}})).data.data,t=(await o.get("/items/ht_session_court_allocation",{params:{filter:{ht_session_id:{_eq:u.value}},fields:["id","ht_session_id","item","collection"]}})).data.data;for(const e of Object.values(_.value))e.active=!1;for(const n of t){const t=(await o.get(`/items/ht_session_courts/${n.item}`,{params:{fields:["id","start_time","end_time","active_courts"]}})).data.data,r=new Date(e.session_date),a=T(t.start_time,r),i=T(t.end_time,r),u=t.active_courts;for(const e of u){const t=parseInt(e);if(t<1||t>z)throw new Error(`Invalid court number: ${t}`);const n=_.value[t];void 0!==n?(n.active=!0,n.start_time=a,n.end_time=i):_.value[t]={number:t,state:U.Inactive,players:[],active:!0,start_time:a,end_time:i}}for(const[e,t]of Object.entries(_.value))console.log(`Court ${e}: ${t.active?"Active":"Inactive"} ${t.start_time.toLocaleTimeString()} - ${t.end_time.toLocaleTimeString()}`)}}catch(e){console.error(e)}R(),g()}}function j(){return{id:Math.random().toString(36).substring(7),first_name:"",last_name:"",full_name:"",level:0,pause:!1,member:!1,captain:!1,last_active:new Date}}function T(e,t){if(!e.match(/^\d{2}:\d{2}:\d{2}$/))throw new Error(`Invalid time string: ${e}`);const[n,r,a]=e.split(":").map((e=>parseInt(e)));return new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,r,a)}function R(){const e=[...l.value];l.value=[];const t=new Date;for(const[e,n]of Object.entries(_.value))n.active&&n.end_time>t&&l.value.push(parseInt(e));console.log("activeCourts: ",l.value);const n=e.filter((e=>!l.value.includes(e)));for(const e of n)D(e);const a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+1,0).getTime()-t.getTime();r&&clearTimeout(r),r=setTimeout((()=>{R()}),a)}async function D(e){const t=new Date,n=_.value[e];if(void 0!==n&&n.players.length>0){const r=c.value.filter((t=>t.court===e.toString()&&null===t.date_updated)).map((n=>({id:n.id,court:e,session:u.value,player_id:n.player_id,date_updated:t.toISOString()})));if(r.length>0){await o.patch("/items/ht_events",r);for(let e=0;e<N;e++)n.players[e]=j();await s(),V.emit(F.removed_players_from_court,e)}}}function q(e){if(e.membership_expiry){return new Date(e.membership_expiry)>new Date}return!1}function B(e){var t;const n=c.value.filter((t=>t.player_id===e&&null!==t.date_updated));let r=null;if(n.length>0)r=n.reduce(((e,t)=>e.date_updated>t.date_updated?e:t)).date_updated;else{const n=p.value.find((t=>t.player_id===e));n&&(r=null!=(t=n.date_updated)?t:n.date_created)}return new Date(r)}async function Q(e,t=!0){const n=new Date;if(t)y.value.push(e);else{const t=y.value.findIndex((t=>t.every((t=>e.find((e=>e.id===t.id))))));t>-1&&y.value.splice(t,1)}const r=p.value.filter((t=>e.find((e=>e.id===t.player_id))&&t.attended));if(r.length>0){r.sort(((e,t)=>{var n,r;const a=null!=(n=e.data_updated)?n:e.date_created,i=null!=(r=t.data_updated)?r:t.date_created,o=new Date(a),u=new Date(i);return o.getTime()-u.getTime()}));const e=r.map((e=>({id:e.id,player_id:e.player_id,session_id:u.value,queued_at:t?n.toISOString():null})));await o.patch("/items/ht_session_players",e)}await h(),V.emit(F.player_queue_state_changed)}}));var G=r({props:{players:{type:Array,default:[]}},setup(n){const r=e([{text:"Queued",value:"full_name",sortable:!1,width:200,align:"left"},{text:"Level",value:"level",sortable:!1,width:90,align:"left"}]),a=Q(),i=e(!1),o=t((()=>n.players.sort(((e,t)=>e.last_active<t.last_active?-1:e.last_active>t.last_active?1:0))));return{courtStore:a,queueListHeaders:r,showRemoveConfirmation:i,playersSorted:o,MAX_PLAYER:N,getMemberClass:function(e){return e.member?"is-member":"non-member"},onClick:function(e=!1){e&&a.commitQueuedSessionPlayers(n.players,!1);i.value=!1}}}});var H=[],Z=[];function K(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",a=!0===t.singleTag,i="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var o=H.indexOf(i);-1===o&&(o=H.push(i)-1,Z[o]={}),n=Z[o]&&Z[o][r]?Z[o][r]:Z[o][r]=u()}else n=u();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function u(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),a=0;a<n.length;a++)e.setAttribute(n[a],t.attributes[n[a]]);var o="prepend"===r?"afterbegin":"beforeend";return i.insertAdjacentElement(o,e),e}}K(".queuelist-table[data-v-51c7f462] {\n  width: 100%;\n  margin-top: 0.5em;\n  overflow-x: hidden;\n  --v-table-height: auto;\n  --v-table-sticky-offset-top: 20;\n  --v-table-color: var(--foreground-normal);\n  --v-table-background-color: var(--background-subdued);\n}\n.non-member[data-v-51c7f462] {\n  color: var(--orange-75);\n}\n.action-button[data-v-51c7f462] {\n  --v-button-background-color: var(--danger);\n  --v-button-background-color-hover: var(--danger-75);\n}",{}),G.render=function(e,t,n,r,_,g){const m=a("v-card-title"),y=a("v-card-text"),b=a("v-button"),w=a("v-card-actions"),x=a("v-card"),S=a("v-dialog"),C=a("v-icon"),k=a("v-table");return i(),o("div",null,[u(S,{modelValue:e.showRemoveConfirmation,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showRemoveConfirmation=t),persistent:"",onEsc:t[3]||(t[3]=t=>e.onClick(!1))},{default:l((()=>[u(x,null,{default:l((()=>[u(m,null,{default:l((()=>[c("Remove players back to Wait List?")])),_:1}),(i(!0),o(s,null,f(e.players,(e=>(i(),d(y,{key:e},{default:l((()=>[c(v(e.full_name),1)])),_:2},1024)))),128)),u(w,null,{default:l((()=>[u(b,{secondary:"",onClick:t[0]||(t[0]=t=>e.onClick(!1))},{default:l((()=>[c("Cancel")])),_:1}),u(b,{onClick:t[1]||(t[1]=t=>e.onClick(!0))},{default:l((()=>[c("Confirm Remove")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(k,{class:"queuelist-table",headers:e.queueListHeaders,items:e.playersSorted,"fixed-header":"","show-select":"none","row-height":30,inline:""},{"header.level":l((({header:n})=>[u(b,{class:"action-button",small:!0,icon:"",onClick:t[4]||(t[4]=t=>e.showRemoveConfirmation=!e.showRemoveConfirmation)},{default:l((()=>[u(C,{name:"close"})])),_:1})])),"item.full_name":l((({item:t})=>[p("div",{class:h(e.getMemberClass(t))},v(t.full_name),3)])),_:2},1032,["headers","items"])])},G.__scopeId="data-v-51c7f462",G.__file="src/components/QueueList.vue";var Y=r({props:{},components:{},setup(r,{emit:a}){const i=Q(),{items:o}=L(e("ht_session"),{sort:t((()=>["start_datetime"])),page:e(1),limit:e(10),fields:t((()=>["id","session_date","start_datetime","end_datetime","court_allocation"])),filter:t((()=>({end_datetime:{_gte:(new Date).toISOString()}}))),search:e()},!0),u=t((()=>{const e=o.value.filter((e=>new Date(e.end_datetime)>new Date)),t=new Array;return e.forEach((e=>{const n=new Date(e.session_date),r=new Date(e.start_datetime),a=new Date(e.end_datetime);t.push({...e,display_text:n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})+" ("+r.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})+" - "+a.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})+")"})})),t.sort(((e,t)=>e.session_date>t.session_date?1:-1))}));return n(o,(async()=>{(async()=>{const e=o.value.find((e=>new Date(e.end_datetime)>new Date));return e?e.id:null})().then((e=>{e&&l(e)}));(async()=>{const e=o.value.reverse().find((e=>new Date(e.end_datetime)<new Date));return e?e.end_datetime:null})().then((e=>{e&&i.markHistoricalEventsAsUpdated(e)}))})),{courtStore:i,availableSessions:o,sessionSelections:u,onSelect:l};function l(e){i.selectedSessionId=e}}});K("\n.wordwrap[data-v-3102139c] { \n    white-space: pre-wrap;\n}\n\n/* Override the default input height variable for select-session class to 45px */\n.select-session[data-v-3102139c] {\n    --input-height: 45px;\n}\n\n",{}),Y.render=function(e,t,n,r,l,c){const s=a("v-select");return i(),o("div",null,[_(' <v-notice type="info"><b>Please select the session before updating attendance. Leaving page or selecting a new session commits the attendance.</b></v-notice> '),u(s,{class:"select-session",modelValue:e.courtStore.selectedSessionId,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.courtStore.selectedSessionId=t),e.onSelect],items:e.sessionSelections,placeholder:"Select Session","item-text":"display_text","item-value":"id"},null,8,["modelValue","items","onUpdate:modelValue"])])},Y.__scopeId="data-v-3102139c",Y.__file="src/components/SessionSelect.vue";var J=r({props:{player:{type:Object,required:!0},selected:{type:Boolean,required:!1,default:!1},mandatoryPlayers:{type:Array,required:!0},isSelectMode:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1,default:!1},selectable:{type:Boolean,required:!1,default:!1},swapMode:{type:Boolean,required:!1,default:!1}},components:{},emits:["on-pause-changed","on-checkbox-changed"],setup(r,{emit:a}){const{player:i,isSelectMode:o,disabled:u,selected:l,mandatoryPlayers:c,swapMode:s}=g(r),f=Q(),d=t((()=>c.value.includes(i.value)&&!s.value)),v=e(!1);return n((()=>[l.value,c.value,i.value.pause]),(()=>{v.value=(d.value||l.value)&&!i.value.pause}),{immediate:!0}),{player:i,isSelectMode:o,disabled:u,courtStore:f,getIconStatus:function(e){return e.pause?"unpause-player":"pause-player"},getIcon:function(e){return e.pause?"bedtime_off":"bedtime"},getCheckboxOnIcon:function(e){return e.pause?"bedtime_off":"check_box"},getCheckboxOffIcon:function(e){return e.pause?"bedtime_off":r.selectable?"check_box_outline_blank":"indeterminate_check_box"},onIconClicked:function(e){f.togglePlayerPaused(e),a("on-pause-changed",e)},isSelected:v,playerIsMandatory:d}}});K(".waitlist-table[data-v-1ccc89ea] {\n  overflow-y: auto;\n  overscroll-behavior: contain;\n  /** Disable horizontal scroll, clamp to 100% width */\n  width: 100%;\n  overflow-x: hidden;\n}\n.waitlist-table .pause-player[data-v-1ccc89ea] {\n  color: var(--module-icon);\n}\n.waitlist-table .pause-player-disabled[data-v-1ccc89ea] {\n  color: var(--module-icon);\n  cursor: not-allowed;\n}\n.waitlist-table .pause-player[data-v-1ccc89ea]:hover {\n  color: var(--module-icon-alt);\n}\n.waitlist-table .pause-player-disabled[data-v-1ccc89ea]:hover {\n  color: var(--module-icon);\n  cursor: not-allowed;\n}\n.waitlist-table .unpause-player[data-v-1ccc89ea] {\n  color: var(--danger-50);\n}\n.waitlist-table .unpause-player-disabled[data-v-1ccc89ea] {\n  color: var(--danger-50);\n  cursor: not-allowed;\n}\n.waitlist-table .unpause-player[data-v-1ccc89ea]:hover {\n  color: var(--danger-75);\n}\n.waitlist-table .unpause-player-disabled[data-v-1ccc89ea]:hover {\n  color: var(--danger-50);\n  cursor: not-allowed;\n}",{}),J.render=function(e,t,n,r,u,l){const c=a("v-icon"),s=a("v-checkbox");return i(),o("div",null,[e.isSelectMode?(i(),d(s,{key:1,modelValue:e.isSelected,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.isSelected=t),t[2]||(t[2]=t=>e.$emit("on-checkbox-changed",e.player,t))],disabled:e.disabled||e.playerIsMandatory||!e.selectable,"icon-on":e.getCheckboxOnIcon(e.player),"icon-off":e.getCheckboxOffIcon(e.player),"icon-indeterminate":e.getCheckboxOffIcon(e.player)},null,8,["modelValue","disabled","icon-on","icon-off","icon-indeterminate"])):(i(),d(c,{key:0,class:h(e.getIconStatus(e.player)),name:e.getIcon(e.player),onClick:t[0]||(t[0]=t=>e.onIconClicked(e.player))},null,8,["class","name"]))])},J.__scopeId="data-v-1ccc89ea",J.__file="src/components/WaitListActionButton.vue";var X=r({props:{},components:{WaitListActionButton:J,QueueList:G},setup(r){const a=e([{text:"Action",value:"action-icon",sortable:!1,width:36,align:"left"},{text:"Waitlist",value:"full_name",sortable:!1,width:200,align:"left"},{text:"Level",value:"level",sortable:!1,width:90,align:"left"}]),i=Q(),o=e([]),u=e(!1),l=t((()=>null!==i.playerToSwapOut)),c=t((()=>null!==i.courtInSelectMode||u.value)),s=t((()=>{const e=i.waitList.filter((e=>null===e.queued_at));return e.sort(((e,t)=>null===e.last_active&&null===t.last_active?0:null===e.last_active?-1:null===t.last_active?1:new Date(e.last_active).getTime()-new Date(t.last_active).getTime())),e})),f=t((()=>Object.values(i.courtStates).some((e=>e.state===U.AwaitingSelection)))),d=t((()=>s.value.length>=N)),v=t((()=>f.value&&d.value)),p=t((()=>d.value&&!i.courtInSelectMode)),h=t((()=>!(!c.value||o.value.length!==N)||!(!l.value||null===i.playerToSwapIn))),_=t((()=>{const e=o.value.map((e=>e.id)),t=new Map;return s.value.forEach((n=>{t.set(n.id,e.includes(n.id))})),t})),g=e([]),m=e([]);return n((()=>[s.value]),S,{immediate:!0}),n((()=>[g.value,i.courtInSelectMode,u.value]),(()=>{if(0===o.value.length&&(null!==i.courtInSelectMode||u.value)&&g.value.some((e=>!o.value.includes(e)))){o.value=[];for(const e of g.value)x(e)}})),n((()=>[c.value]),(()=>{c.value||u.value?i.pauseAppRefreshItem(W.Players):i.resumeAppRefreshItem(W.Players)})),{courtStore:i,waitListHeaders:a,waitListNotQueued:s,selectedPlayers:o,confirmSelectedPlayers:function(){var e;if(l.value)return void i.confirmSwapPlayers();if(u.value&&!f.value)return i.commitQueuedSessionPlayers(o.value),u.value=!1,o.value=[],void(g.value=[]);if(null!==i.courtInSelectMode||void 0!==b()){const t=null!=(e=i.courtInSelectMode)?e:b();i.addPlayersToCourt(t,o.value),u.value=!1,o.value=[],g.value=[]}},suggestSelectedPlayers:w,assignPlayersToAvailableCourts:async function(){for(let e=1;e<=z;e++){const t=i.courtStates[e];t&&t.state===U.AwaitingSelection&&(w(),await i.addPlayersToCourt(e,o.value),o.value=[])}},MAX_PLAYER:N,onCheckboxChanged:function(e,t){l.value?i.playerToSwapIn=e:!e.pause&&t?x(e):function(e){o.value=o.value.filter((t=>t.id!==e.id))}(e)},isSelected:_,mandatoryPlayers:g,suggestedPlayers:m,enableAssignAllButton:v,enableQueueSelectButton:p,isPlayerMandatory:function(e){return g.value.some((t=>t.id===e.id))},recalculateMandatoryPlayers:S,getMemberClass:function(e){return e.member?"is-member":"non-member"},getSelectableClass:function(e){return y(e)?"":"non-selectable"},playerIsSelectable:y,isSwapMode:l,isSelectMode:c,confirmButtonEnabled:h,isQueueSelectMode:u};function y(e){const t=s.value.findIndex((t=>t.id===e.id));return!e.pause&&t<B}function b(){const e=Object.values(i.courtStates).find((e=>e.state===U.AwaitingSelection||e.state===U.SelectingPlayers));if(void 0===e)throw new Error("No available court found");return e.number}function w(){var e,t;const n=s.value.filter((e=>!e.pause));if(0===s.value.length)return;if(0===n.length)return;if(!d.value)return;if(0===g.value.length)return;m.value=g.value.slice();const r=null!=(t=null==(e=m.value[0])?void 0:e.level)?t:5;let a=n.slice(0,B).sort(((e,t)=>Math.abs(e.level-r)-Math.abs(t.level-r)));for(const e of a){if(m.value.length>=N)break;if(!m.value.some((t=>t.id===e.id))&&(m.value.push(e),m.value.length===N))break}for(const e of m.value)x(e)}function x(e){o.value.some((t=>t.id===e.id))||o.value.push(e)}function S(){if(g.value=[],s.value.length>0){const e=s.value.find((e=>!e.pause));e&&g.value.push(e)}}}});const ee={class:"mb-2 w-100"},te={class:"waitlist-container"},ne={key:0};K(".confirm-button[data-v-4985fb3a] {\n  margin-right: 0.5rem;\n}\n.suggest-button[data-v-4985fb3a] {\n  margin-right: 0.5rem;\n}\n.queue-button[data-v-4985fb3a] {\n  margin-right: 0.5rem;\n}\n.queue-button.cancel-queue-mode[data-v-4985fb3a] {\n  --v-button-background-color: var(--danger);\n  --v-button-background-color-hover: var(--danger-75);\n}\n.assign-all-button[data-v-4985fb3a] {\n  float: right;\n}\n.waitlist-container[data-v-4985fb3a] .queue-tables {\n  display: flex;\n}\n@media (min-width: 1367px) {\n.waitlist-container[data-v-4985fb3a] .queue-tables {\n    height: 0;\n    display: none;\n}\n}\n.waitlist-container[data-v-4985fb3a] .table-header {\n  display: none;\n}\n.waitlist-container[data-v-4985fb3a] .is-close {\n  transform: translateY(-100%);\n}\n.waitlist-container[data-v-4985fb3a] {\n  overflow-y: auto;\n  overscroll-behavior: contain;\n  width: 100%;\n  overflow-x: hidden;\n  position: relative;\n  max-height: calc(95vh - 60px - 45px - 38px);\n}\n.waitlist-table[data-v-4985fb3a] {\n  overflow-x: hidden;\n}\n.non-member[data-v-4985fb3a] {\n  color: var(--orange-75);\n}\n.non-selectable[data-v-4985fb3a] {\n  opacity: 0.7;\n}",{}),X.render=function(e,t,n,r,c,g){const b=a("v-icon"),w=a("v-button"),x=a("QueueList"),S=a("WaitListActionButton"),C=a("v-table"),k=m("tooltip");return i(),o("div",null,[p("div",ee,[y((i(),d(w,{class:"confirm-button",disabled:!e.confirmButtonEnabled,small:!0,icon:"",onClick:e.confirmSelectedPlayers},{default:l((()=>[u(b,{name:"done_all"})])),_:1},8,["disabled","onClick"])),[[k,"Confirm selected players",void 0,{bottom:!0}]]),y((i(),d(w,{class:"suggest-button",disabled:e.selectedPlayers.length===e.MAX_PLAYER||!e.isSelectMode||0===e.mandatoryPlayers.length,small:!0,icon:"",onClick:e.suggestSelectedPlayers},{default:l((()=>[u(b,{name:"lightbulb"})])),_:1},8,["disabled","onClick"])),[[k,"Smart suggest players",void 0,{bottom:!0}]]),y((i(),d(w,{class:h(["queue-button",{"cancel-queue-mode":e.isQueueSelectMode}]),disabled:!e.enableQueueSelectButton,small:!0,icon:"",onClick:t[0]||(t[0]=t=>e.isQueueSelectMode=!e.isQueueSelectMode)},{default:l((()=>[u(b,{name:"playlist_add_circle"})])),_:1},8,["class","disabled"])),[[k,"Queue next court players",void 0,{bottom:!0}]]),y((i(),d(w,{class:"assign-all-button",disabled:!e.enableAssignAllButton,small:!0,icon:"",onClick:e.assignPlayersToAvailableCourts},{default:l((()=>[u(b,{name:"double_arrow"})])),_:1},8,["disabled","onClick"])),[[k,"Assign players to available courts",void 0,{bottom:!0}]])]),p("div",te,[p("div",{class:h(["queue-tables",{"is-close":e.isQueueSelectMode}])},[e.isQueueSelectMode?_("v-if",!0):(i(),o("div",ne,[(i(!0),o(s,null,f(e.courtStore.queuedPlayersGroups,(e=>(i(),o("div",{key:e},[u(x,{players:e},null,8,["players"])])))),128))]))],2),u(C,{class:"waitlist-table",headers:e.waitListHeaders,items:e.waitListNotQueued,"no-items-text":"No player in waitlist","fixed-header":"",modelValue:e.selectedPlayers,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedPlayers=t),"show-select":"none","row-height":30},{"item.action-icon":l((({item:t})=>[u(S,{player:t,isSelectMode:e.isSelectMode||e.isSwapMode,swapMode:e.isSwapMode,disabled:t.pause,selected:e.isSelected.get(t.id),mandatoryPlayers:e.mandatoryPlayers,selectable:e.playerIsSelectable(t),onOnCheckboxChanged:e.onCheckboxChanged,onOnPauseChanged:e.recalculateMandatoryPlayers},null,8,["player","isSelectMode","swapMode","disabled","selected","mandatoryPlayers","selectable","onOnCheckboxChanged","onOnPauseChanged"])])),"item.full_name":l((({item:t})=>[p("div",{class:h([e.getMemberClass(t),e.getSelectableClass(t)])},v(t.full_name),3)])),_:2},1032,["headers","items","modelValue"])])])},X.__scopeId="data-v-4985fb3a",X.__file="src/components/WaitList.vue";var re,ae,ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oe={};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
re={get exports(){return oe},set exports(e){oe=e}},ae=oe,function(){var e,t=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",a="Invalid `variable` option passed into `_.template`",i="__lodash_hash_undefined__",o=500,u="__lodash_placeholder__",l=1,c=2,s=4,f=1,d=2,v=1,p=2,h=4,_=8,g=16,m=32,y=64,b=128,w=256,x=512,S=30,C="...",k=800,I=16,A=1,O=2,P=1/0,j=9007199254740991,T=17976931348623157e292,E=NaN,L=4294967295,R=L-1,D=L>>>1,M=[["ary",b],["bind",v],["bindKey",p],["curry",_],["curryRight",g],["flip",x],["partial",m],["partialRight",y],["rearg",w]],q="[object Arguments]",N="[object Array]",z="[object AsyncFunction]",B="[object Boolean]",$="[object Date]",W="[object DOMException]",U="[object Error]",V="[object Function]",F="[object GeneratorFunction]",Q="[object Map]",G="[object Number]",H="[object Null]",Z="[object Object]",K="[object Promise]",Y="[object Proxy]",J="[object RegExp]",X="[object Set]",ee="[object String]",te="[object Symbol]",ne="[object Undefined]",oe="[object WeakMap]",ue="[object WeakSet]",le="[object ArrayBuffer]",ce="[object DataView]",se="[object Float32Array]",fe="[object Float64Array]",de="[object Int8Array]",ve="[object Int16Array]",pe="[object Int32Array]",he="[object Uint8Array]",_e="[object Uint8ClampedArray]",ge="[object Uint16Array]",me="[object Uint32Array]",ye=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ce=RegExp(xe.source),ke=RegExp(Se.source),Ie=/<%-([\s\S]+?)%>/g,Ae=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Ee.source),Re=/^\s+/,De=/\s/,Me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Be=/[()=,{}\[\]\/\s]/,$e=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ue=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Qe=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,He=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",et="\\u2700-\\u27bf",tt="a-z\\xdf-\\xf6\\xf8-\\xff",nt="A-Z\\xc0-\\xd6\\xd8-\\xde",rt="\\ufe0e\\ufe0f",at="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",it="['’]",ot="["+Je+"]",ut="["+at+"]",lt="["+Xe+"]",ct="\\d+",st="["+et+"]",ft="["+tt+"]",dt="[^"+Je+at+ct+et+tt+nt+"]",vt="\\ud83c[\\udffb-\\udfff]",pt="[^"+Je+"]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",gt="["+nt+"]",mt="\\u200d",yt="(?:"+ft+"|"+dt+")",bt="(?:"+gt+"|"+dt+")",wt="(?:['’](?:d|ll|m|re|s|t|ve))?",xt="(?:['’](?:D|LL|M|RE|S|T|VE))?",St="(?:"+lt+"|"+vt+")?",Ct="["+rt+"]?",kt=Ct+St+"(?:"+mt+"(?:"+[pt,ht,_t].join("|")+")"+Ct+St+")*",It="(?:"+[st,ht,_t].join("|")+")"+kt,At="(?:"+[pt+lt+"?",lt,ht,_t,ot].join("|")+")",Ot=RegExp(it,"g"),Pt=RegExp(lt,"g"),jt=RegExp(vt+"(?="+vt+")|"+At+kt,"g"),Tt=RegExp([gt+"?"+ft+"+"+wt+"(?="+[ut,gt,"$"].join("|")+")",bt+"+"+xt+"(?="+[ut,gt+yt,"$"].join("|")+")",gt+"?"+yt+"+"+wt,gt+"+"+xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ct,It].join("|"),"g"),Et=RegExp("["+mt+Je+Xe+rt+"]"),Lt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dt=-1,Mt={};Mt[se]=Mt[fe]=Mt[de]=Mt[ve]=Mt[pe]=Mt[he]=Mt[_e]=Mt[ge]=Mt[me]=!0,Mt[q]=Mt[N]=Mt[le]=Mt[B]=Mt[ce]=Mt[$]=Mt[U]=Mt[V]=Mt[Q]=Mt[G]=Mt[Z]=Mt[J]=Mt[X]=Mt[ee]=Mt[oe]=!1;var qt={};qt[q]=qt[N]=qt[le]=qt[ce]=qt[B]=qt[$]=qt[se]=qt[fe]=qt[de]=qt[ve]=qt[pe]=qt[Q]=qt[G]=qt[Z]=qt[J]=qt[X]=qt[ee]=qt[te]=qt[he]=qt[_e]=qt[ge]=qt[me]=!0,qt[U]=qt[V]=qt[oe]=!1;var Nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=parseFloat,Bt=parseInt,$t="object"==typeof ie&&ie&&ie.Object===Object&&ie,Wt="object"==typeof self&&self&&self.Object===Object&&self,Ut=$t||Wt||Function("return this")(),Vt=ae&&!ae.nodeType&&ae,Ft=Vt&&re&&!re.nodeType&&re,Qt=Ft&&Ft.exports===Vt,Gt=Qt&&$t.process,Ht=function(){try{var e=Ft&&Ft.require&&Ft.require("util").types;return e||Gt&&Gt.binding&&Gt.binding("util")}catch(e){}}(),Zt=Ht&&Ht.isArrayBuffer,Kt=Ht&&Ht.isDate,Yt=Ht&&Ht.isMap,Jt=Ht&&Ht.isRegExp,Xt=Ht&&Ht.isSet,en=Ht&&Ht.isTypedArray;function tn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function nn(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function an(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function on(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function un(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function ln(e,t){return!(null==e||!e.length)&&mn(e,t,0)>-1}function cn(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function sn(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function fn(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function dn(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function vn(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function pn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var hn=xn("length");function _n(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function gn(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function mn(e,t,n){return t==t?function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):gn(e,bn,n)}function yn(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function bn(e){return e!=e}function wn(e,t){var n=null==e?0:e.length;return n?kn(e,t)/n:E}function xn(t){return function(n){return null==n?e:n[t]}}function Sn(t){return function(n){return null==t?e:t[n]}}function Cn(e,t,n,r,a){return a(e,(function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)})),n}function kn(t,n){for(var r,a=-1,i=t.length;++a<i;){var o=n(t[a]);o!==e&&(r=r===e?o:r+o)}return r}function In(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function An(e){return e?e.slice(0,Vn(e)+1).replace(Re,""):e}function On(e){return function(t){return e(t)}}function Pn(e,t){return sn(t,(function(t){return e[t]}))}function jn(e,t){return e.has(t)}function Tn(e,t){for(var n=-1,r=e.length;++n<r&&mn(t,e[n],0)>-1;);return n}function En(e,t){for(var n=e.length;n--&&mn(t,e[n],0)>-1;);return n}var Ln=Sn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Rn=Sn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Dn(e){return"\\"+Nt[e]}function Mn(e){return Et.test(e)}function qn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Nn(e,t){return function(n){return e(t(n))}}function zn(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,i[a++]=n)}return i}function Bn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Wn(e){return Mn(e)?function(e){for(var t=jt.lastIndex=0;jt.test(e);)++t;return t}(e):hn(e)}function Un(e){return Mn(e)?function(e){return e.match(jt)||[]}(e):function(e){return e.split("")}(e)}function Vn(e){for(var t=e.length;t--&&De.test(e.charAt(t)););return t}var Fn=Sn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Qn=function re(ae){var ie,De=(ae=null==ae?Ut:Qn.defaults(Ut.Object(),ae,Qn.pick(Ut,Rt))).Array,Je=ae.Date,Xe=ae.Error,et=ae.Function,tt=ae.Math,nt=ae.Object,rt=ae.RegExp,at=ae.String,it=ae.TypeError,ot=De.prototype,ut=et.prototype,lt=nt.prototype,ct=ae["__core-js_shared__"],st=ut.toString,ft=lt.hasOwnProperty,dt=0,vt=(ie=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",pt=lt.toString,ht=st.call(nt),_t=Ut._,gt=rt("^"+st.call(ft).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Qt?ae.Buffer:e,yt=ae.Symbol,bt=ae.Uint8Array,wt=mt?mt.allocUnsafe:e,xt=Nn(nt.getPrototypeOf,nt),St=nt.create,Ct=lt.propertyIsEnumerable,kt=ot.splice,It=yt?yt.isConcatSpreadable:e,At=yt?yt.iterator:e,jt=yt?yt.toStringTag:e,Et=function(){try{var e=$i(nt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nt=ae.clearTimeout!==Ut.clearTimeout&&ae.clearTimeout,$t=Je&&Je.now!==Ut.Date.now&&Je.now,Wt=ae.setTimeout!==Ut.setTimeout&&ae.setTimeout,Vt=tt.ceil,Ft=tt.floor,Gt=nt.getOwnPropertySymbols,Ht=mt?mt.isBuffer:e,hn=ae.isFinite,Sn=ot.join,Gn=Nn(nt.keys,nt),Hn=tt.max,Zn=tt.min,Kn=Je.now,Yn=ae.parseInt,Jn=tt.random,Xn=ot.reverse,er=$i(ae,"DataView"),tr=$i(ae,"Map"),nr=$i(ae,"Promise"),rr=$i(ae,"Set"),ar=$i(ae,"WeakMap"),ir=$i(nt,"create"),or=ar&&new ar,ur={},lr=po(er),cr=po(tr),sr=po(nr),fr=po(rr),dr=po(ar),vr=yt?yt.prototype:e,pr=vr?vr.valueOf:e,hr=vr?vr.toString:e;function _r(e){if(Tu(e)&&!bu(e)&&!(e instanceof br)){if(e instanceof yr)return e;if(ft.call(e,"__wrapped__"))return ho(e)}return new yr(e)}var gr=function(){function t(){}return function(n){if(!ju(n))return{};if(St)return St(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function mr(){}function yr(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function br(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function wr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Sr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Sr;++t<n;)this.add(e[t])}function kr(e){var t=this.__data__=new xr(e);this.size=t.size}function Ir(e,t){var n=bu(e),r=!n&&yu(e),a=!n&&!r&&Cu(e),i=!n&&!r&&!a&&zu(e),o=n||r||a||i,u=o?In(e.length,at):[],l=u.length;for(var c in e)!t&&!ft.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Hi(c,l))||u.push(c);return u}function Ar(t){var n=t.length;return n?t[Ca(0,n-1)]:e}function Or(e,t){return so(ii(e),qr(t,0,e.length))}function Pr(e){return so(ii(e))}function jr(t,n,r){(r!==e&&!_u(t[n],r)||r===e&&!(n in t))&&Dr(t,n,r)}function Tr(t,n,r){var a=t[n];ft.call(t,n)&&_u(a,r)&&(r!==e||n in t)||Dr(t,n,r)}function Er(e,t){for(var n=e.length;n--;)if(_u(e[n][0],t))return n;return-1}function Lr(e,t,n,r){return Wr(e,(function(e,a,i){t(r,e,n(e),i)})),r}function Rr(e,t){return e&&oi(t,ul(t),e)}function Dr(e,t,n){"__proto__"==t&&Et?Et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Mr(t,n){for(var r=-1,a=n.length,i=De(a),o=null==t;++r<a;)i[r]=o?e:nl(t,n[r]);return i}function qr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function Nr(t,n,r,a,i,o){var u,f=n&l,d=n&c,v=n&s;if(r&&(u=i?r(t,a,i,o):r(t)),u!==e)return u;if(!ju(t))return t;var p=bu(t);if(p){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ft.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!f)return ii(t,u)}else{var h=Vi(t),_=h==V||h==F;if(Cu(t))return Xa(t,f);if(h==Z||h==q||_&&!i){if(u=d||_?{}:Qi(t),!f)return d?function(e,t){return oi(e,Ui(e),t)}(t,function(e,t){return e&&oi(t,ll(t),e)}(u,t)):function(e,t){return oi(e,Wi(e),t)}(t,Rr(u,t))}else{if(!qt[h])return i?t:{};u=function(e,t,n){var r,a=e.constructor;switch(t){case le:return ei(e);case B:case $:return new a(+e);case ce:return function(e,t){var n=t?ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case se:case fe:case de:case ve:case pe:case he:case _e:case ge:case me:return ti(e,n);case Q:return new a;case G:case ee:return new a(e);case J:return function(e){var t=new e.constructor(e.source,Ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case X:return new a;case te:return r=e,pr?nt(pr.call(r)):{}}}(t,h,f)}}o||(o=new kr);var g=o.get(t);if(g)return g;o.set(t,u),Mu(t)?t.forEach((function(e){u.add(Nr(e,n,r,e,t,o))})):Eu(t)&&t.forEach((function(e,a){u.set(a,Nr(e,n,r,a,t,o))}));var m=p?e:(v?d?Ri:Li:d?ll:ul)(t);return rn(m||t,(function(e,a){m&&(e=t[a=e]),Tr(u,a,Nr(e,n,r,a,t,o))})),u}function zr(t,n,r){var a=r.length;if(null==t)return!a;for(t=nt(t);a--;){var i=r[a],o=n[i],u=t[i];if(u===e&&!(i in t)||!o(u))return!1}return!0}function Br(t,n,a){if("function"!=typeof t)throw new it(r);return oo((function(){t.apply(e,a)}),n)}function $r(e,n,r,a){var i=-1,o=ln,u=!0,l=e.length,c=[],s=n.length;if(!l)return c;r&&(n=sn(n,On(r))),a?(o=cn,u=!1):n.length>=t&&(o=jn,u=!1,n=new Cr(n));e:for(;++i<l;){var f=e[i],d=null==r?f:r(f);if(f=a||0!==f?f:0,u&&d==d){for(var v=s;v--;)if(n[v]===d)continue e;c.push(f)}else o(n,d,a)||c.push(f)}return c}_r.templateSettings={escape:Ie,evaluate:Ae,interpolate:Oe,variable:"",imports:{_:_r}},_r.prototype=mr.prototype,_r.prototype.constructor=_r,yr.prototype=gr(mr.prototype),yr.prototype.constructor=yr,br.prototype=gr(mr.prototype),br.prototype.constructor=br,wr.prototype.clear=function(){this.__data__=ir?ir(null):{},this.size=0},wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wr.prototype.get=function(t){var n=this.__data__;if(ir){var r=n[t];return r===i?e:r}return ft.call(n,t)?n[t]:e},wr.prototype.has=function(t){var n=this.__data__;return ir?n[t]!==e:ft.call(n,t)},wr.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ir&&n===e?i:n,this},xr.prototype.clear=function(){this.__data__=[],this.size=0},xr.prototype.delete=function(e){var t=this.__data__,n=Er(t,e);return!(n<0||(n==t.length-1?t.pop():kt.call(t,n,1),--this.size,0))},xr.prototype.get=function(t){var n=this.__data__,r=Er(n,t);return r<0?e:n[r][1]},xr.prototype.has=function(e){return Er(this.__data__,e)>-1},xr.prototype.set=function(e,t){var n=this.__data__,r=Er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Sr.prototype.clear=function(){this.size=0,this.__data__={hash:new wr,map:new(tr||xr),string:new wr}},Sr.prototype.delete=function(e){var t=zi(this,e).delete(e);return this.size-=t?1:0,t},Sr.prototype.get=function(e){return zi(this,e).get(e)},Sr.prototype.has=function(e){return zi(this,e).has(e)},Sr.prototype.set=function(e,t){var n=zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Cr.prototype.add=Cr.prototype.push=function(e){return this.__data__.set(e,i),this},Cr.prototype.has=function(e){return this.__data__.has(e)},kr.prototype.clear=function(){this.__data__=new xr,this.size=0},kr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},kr.prototype.get=function(e){return this.__data__.get(e)},kr.prototype.has=function(e){return this.__data__.has(e)},kr.prototype.set=function(e,n){var r=this.__data__;if(r instanceof xr){var a=r.__data__;if(!tr||a.length<t-1)return a.push([e,n]),this.size=++r.size,this;r=this.__data__=new Sr(a)}return r.set(e,n),this.size=r.size,this};var Wr=ci(Kr),Ur=ci(Yr,!0);function Vr(e,t){var n=!0;return Wr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function Fr(t,n,r){for(var a=-1,i=t.length;++a<i;){var o=t[a],u=n(o);if(null!=u&&(l===e?u==u&&!Nu(u):r(u,l)))var l=u,c=o}return c}function Qr(e,t){var n=[];return Wr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function Gr(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=Gi),a||(a=[]);++i<o;){var u=e[i];t>0&&n(u)?t>1?Gr(u,t-1,n,r,a):fn(a,u):r||(a[a.length]=u)}return a}var Hr=si(),Zr=si(!0);function Kr(e,t){return e&&Hr(e,t,ul)}function Yr(e,t){return e&&Zr(e,t,ul)}function Jr(e,t){return un(t,(function(t){return Au(e[t])}))}function Xr(t,n){for(var r=0,a=(n=Za(n,t)).length;null!=t&&r<a;)t=t[vo(n[r++])];return r&&r==a?t:e}function ea(e,t,n){var r=t(e);return bu(e)?r:fn(r,n(e))}function ta(t){return null==t?t===e?ne:H:jt&&jt in nt(t)?function(t){var n=ft.call(t,jt),r=t[jt];try{t[jt]=e;var a=!0}catch(e){}var i=pt.call(t);return a&&(n?t[jt]=r:delete t[jt]),i}(t):function(e){return pt.call(e)}(t)}function na(e,t){return e>t}function ra(e,t){return null!=e&&ft.call(e,t)}function aa(e,t){return null!=e&&t in nt(e)}function ia(t,n,r){for(var a=r?cn:ln,i=t[0].length,o=t.length,u=o,l=De(o),c=1/0,s=[];u--;){var f=t[u];u&&n&&(f=sn(f,On(n))),c=Zn(f.length,c),l[u]=!r&&(n||i>=120&&f.length>=120)?new Cr(u&&f):e}f=t[0];var d=-1,v=l[0];e:for(;++d<i&&s.length<c;){var p=f[d],h=n?n(p):p;if(p=r||0!==p?p:0,!(v?jn(v,h):a(s,h,r))){for(u=o;--u;){var _=l[u];if(!(_?jn(_,h):a(t[u],h,r)))continue e}v&&v.push(h),s.push(p)}}return s}function oa(t,n,r){var a=null==(t=ro(t,n=Za(n,t)))?t:t[vo(Io(n))];return null==a?e:tn(a,t,r)}function ua(e){return Tu(e)&&ta(e)==q}function la(t,n,r,a,i){return t===n||(null==t||null==n||!Tu(t)&&!Tu(n)?t!=t&&n!=n:function(t,n,r,a,i,o){var u=bu(t),l=bu(n),c=u?N:Vi(t),s=l?N:Vi(n),v=(c=c==q?Z:c)==Z,p=(s=s==q?Z:s)==Z,h=c==s;if(h&&Cu(t)){if(!Cu(n))return!1;u=!0,v=!1}if(h&&!v)return o||(o=new kr),u||zu(t)?Ti(t,n,r,a,i,o):function(e,t,n,r,a,i,o){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!i(new bt(e),new bt(t)));case B:case $:case G:return _u(+e,+t);case U:return e.name==t.name&&e.message==t.message;case J:case ee:return e==t+"";case Q:var u=qn;case X:var l=r&f;if(u||(u=Bn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=d,o.set(e,t);var s=Ti(u(e),u(t),r,a,i,o);return o.delete(e),s;case te:if(pr)return pr.call(e)==pr.call(t)}return!1}(t,n,c,r,a,i,o);if(!(r&f)){var _=v&&ft.call(t,"__wrapped__"),g=p&&ft.call(n,"__wrapped__");if(_||g){var m=_?t.value():t,y=g?n.value():n;return o||(o=new kr),i(m,y,r,a,o)}}return!!h&&(o||(o=new kr),function(t,n,r,a,i,o){var u=r&f,l=Li(t),c=l.length,s=Li(n),d=s.length;if(c!=d&&!u)return!1;for(var v=c;v--;){var p=l[v];if(!(u?p in n:ft.call(n,p)))return!1}var h=o.get(t),_=o.get(n);if(h&&_)return h==n&&_==t;var g=!0;o.set(t,n),o.set(n,t);for(var m=u;++v<c;){var y=t[p=l[v]],b=n[p];if(a)var w=u?a(b,y,p,n,t,o):a(y,b,p,t,n,o);if(!(w===e?y===b||i(y,b,r,a,o):w)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var x=t.constructor,S=n.constructor;x==S||!("constructor"in t)||!("constructor"in n)||"function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S||(g=!1)}return o.delete(t),o.delete(n),g}(t,n,r,a,i,o))}(t,n,r,a,la,i))}function ca(t,n,r,a){var i=r.length,o=i,u=!a;if(null==t)return!o;for(t=nt(t);i--;){var l=r[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var c=(l=r[i])[0],s=t[c],v=l[1];if(u&&l[2]){if(s===e&&!(c in t))return!1}else{var p=new kr;if(a)var h=a(s,v,c,t,n,p);if(!(h===e?la(v,s,f|d,a,p):h))return!1}}return!0}function sa(e){return!(!ju(e)||(t=e,vt&&vt in t))&&(Au(e)?gt:Qe).test(po(e));var t}function fa(e){return"function"==typeof e?e:null==e?Ll:"object"==typeof e?bu(e)?ga(e[0],e[1]):_a(e):Wl(e)}function da(e){if(!Xi(e))return Gn(e);var t=[];for(var n in nt(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t}function va(e){if(!ju(e))return function(e){var t=[];if(null!=e)for(var n in nt(e))t.push(n);return t}(e);var t=Xi(e),n=[];for(var r in e)("constructor"!=r||!t&&ft.call(e,r))&&n.push(r);return n}function pa(e,t){return e<t}function ha(e,t){var n=-1,r=xu(e)?De(e.length):[];return Wr(e,(function(e,a,i){r[++n]=t(e,a,i)})),r}function _a(e){var t=Bi(e);return 1==t.length&&t[0][2]?to(t[0][0],t[0][1]):function(n){return n===e||ca(n,e,t)}}function ga(t,n){return Ki(t)&&eo(n)?to(vo(t),n):function(r){var a=nl(r,t);return a===e&&a===n?rl(r,t):la(n,a,f|d)}}function ma(t,n,r,a,i){t!==n&&Hr(n,(function(o,u){if(i||(i=new kr),ju(o))!function(t,n,r,a,i,o,u){var l=ao(t,r),c=ao(n,r),s=u.get(c);if(s)jr(t,r,s);else{var f=o?o(l,c,r+"",t,n,u):e,d=f===e;if(d){var v=bu(c),p=!v&&Cu(c),h=!v&&!p&&zu(c);f=c,v||p||h?bu(l)?f=l:Su(l)?f=ii(l):p?(d=!1,f=Xa(c,!0)):h?(d=!1,f=ti(c,!0)):f=[]:Ru(c)||yu(c)?(f=l,yu(l)?f=Gu(l):ju(l)&&!Au(l)||(f=Qi(c))):d=!1}d&&(u.set(c,f),i(f,c,a,o,u),u.delete(c)),jr(t,r,f)}}(t,n,u,r,ma,a,i);else{var l=a?a(ao(t,u),o,u+"",t,n,i):e;l===e&&(l=o),jr(t,u,l)}}),ll)}function ya(t,n){var r=t.length;if(r)return Hi(n+=n<0?r:0,r)?t[n]:e}function ba(e,t,n){t=t.length?sn(t,(function(e){return bu(e)?function(t){return Xr(t,1===e.length?e[0]:e)}:e})):[Ll];var r=-1;t=sn(t,On(Ni()));var a=ha(e,(function(e,n,a){var i=sn(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,u=n.length;++r<o;){var l=ni(a[r],i[r]);if(l)return r>=u?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function wa(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],u=Xr(e,o);n(u,o)&&Pa(i,Za(o,e),u)}return i}function xa(e,t,n,r){var a=r?yn:mn,i=-1,o=t.length,u=e;for(e===t&&(t=ii(t)),n&&(u=sn(e,On(n)));++i<o;)for(var l=0,c=t[i],s=n?n(c):c;(l=a(u,s,l,r))>-1;)u!==e&&kt.call(u,l,1),kt.call(e,l,1);return e}function Sa(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;Hi(a)?kt.call(e,a,1):$a(e,a)}}return e}function Ca(e,t){return e+Ft(Jn()*(t-e+1))}function ka(e,t){var n="";if(!e||t<1||t>j)return n;do{t%2&&(n+=e),(t=Ft(t/2))&&(e+=e)}while(t);return n}function Ia(e,t){return uo(no(e,t,Ll),e+"")}function Aa(e){return Ar(_l(e))}function Oa(e,t){var n=_l(e);return so(n,qr(t,0,n.length))}function Pa(t,n,r,a){if(!ju(t))return t;for(var i=-1,o=(n=Za(n,t)).length,u=o-1,l=t;null!=l&&++i<o;){var c=vo(n[i]),s=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=u){var f=l[c];(s=a?a(f,c,l):e)===e&&(s=ju(f)?f:Hi(n[i+1])?[]:{})}Tr(l,c,s),l=l[c]}return t}var ja=or?function(e,t){return or.set(e,t),e}:Ll,Ta=Et?function(e,t){return Et(e,"toString",{configurable:!0,enumerable:!1,value:jl(t),writable:!0})}:Ll;function Ea(e){return so(_l(e))}function La(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=De(a);++r<a;)i[r]=e[r+t];return i}function Ra(e,t){var n;return Wr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function Da(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=D){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!Nu(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return Ma(e,t,Ll,n)}function Ma(t,n,r,a){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var u=(n=r(n))!=n,l=null===n,c=Nu(n),s=n===e;i<o;){var f=Ft((i+o)/2),d=r(t[f]),v=d!==e,p=null===d,h=d==d,_=Nu(d);if(u)var g=a||h;else g=s?h&&(a||v):l?h&&v&&(a||!p):c?h&&v&&!p&&(a||!_):!p&&!_&&(a?d<=n:d<n);g?i=f+1:o=f}return Zn(o,R)}function qa(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!_u(u,l)){var l=u;i[a++]=0===o?0:o}}return i}function Na(e){return"number"==typeof e?e:Nu(e)?E:+e}function za(e){if("string"==typeof e)return e;if(bu(e))return sn(e,za)+"";if(Nu(e))return hr?hr.call(e):"";var t=e+"";return"0"==t&&1/e==-P?"-0":t}function Ba(e,n,r){var a=-1,i=ln,o=e.length,u=!0,l=[],c=l;if(r)u=!1,i=cn;else if(o>=t){var s=n?null:ki(e);if(s)return Bn(s);u=!1,i=jn,c=new Cr}else c=n?[]:l;e:for(;++a<o;){var f=e[a],d=n?n(f):f;if(f=r||0!==f?f:0,u&&d==d){for(var v=c.length;v--;)if(c[v]===d)continue e;n&&c.push(d),l.push(f)}else i(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}function $a(e,t){return null==(e=ro(e,t=Za(t,e)))||delete e[vo(Io(t))]}function Wa(e,t,n,r){return Pa(e,t,n(Xr(e,t)),r)}function Ua(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?La(e,r?0:i,r?i+1:a):La(e,r?i+1:0,r?a:i)}function Va(e,t){var n=e;return n instanceof br&&(n=n.value()),dn(t,(function(e,t){return t.func.apply(t.thisArg,fn([e],t.args))}),n)}function Fa(e,t,n){var r=e.length;if(r<2)return r?Ba(e[0]):[];for(var a=-1,i=De(r);++a<r;)for(var o=e[a],u=-1;++u<r;)u!=a&&(i[a]=$r(i[a]||o,e[u],t,n));return Ba(Gr(i,1),t,n)}function Qa(t,n,r){for(var a=-1,i=t.length,o=n.length,u={};++a<i;){var l=a<o?n[a]:e;r(u,t[a],l)}return u}function Ga(e){return Su(e)?e:[]}function Ha(e){return"function"==typeof e?e:Ll}function Za(e,t){return bu(e)?e:Ki(e,t)?[e]:fo(Hu(e))}var Ka=Ia;function Ya(t,n,r){var a=t.length;return r=r===e?a:r,!n&&r>=a?t:La(t,n,r)}var Ja=Nt||function(e){return Ut.clearTimeout(e)};function Xa(e,t){if(t)return e.slice();var n=e.length,r=wt?wt(n):new e.constructor(n);return e.copy(r),r}function ei(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function ti(e,t){var n=t?ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ni(t,n){if(t!==n){var r=t!==e,a=null===t,i=t==t,o=Nu(t),u=n!==e,l=null===n,c=n==n,s=Nu(n);if(!l&&!s&&!o&&t>n||o&&u&&c&&!l&&!s||a&&u&&c||!r&&c||!i)return 1;if(!a&&!o&&!s&&t<n||s&&r&&i&&!a&&!o||l&&r&&i||!u&&i||!c)return-1}return 0}function ri(e,t,n,r){for(var a=-1,i=e.length,o=n.length,u=-1,l=t.length,c=Hn(i-o,0),s=De(l+c),f=!r;++u<l;)s[u]=t[u];for(;++a<o;)(f||a<i)&&(s[n[a]]=e[a]);for(;c--;)s[u++]=e[a++];return s}function ai(e,t,n,r){for(var a=-1,i=e.length,o=-1,u=n.length,l=-1,c=t.length,s=Hn(i-u,0),f=De(s+c),d=!r;++a<s;)f[a]=e[a];for(var v=a;++l<c;)f[v+l]=t[l];for(;++o<u;)(d||a<i)&&(f[v+n[o]]=e[a++]);return f}function ii(e,t){var n=-1,r=e.length;for(t||(t=De(r));++n<r;)t[n]=e[n];return t}function oi(t,n,r,a){var i=!r;r||(r={});for(var o=-1,u=n.length;++o<u;){var l=n[o],c=a?a(r[l],t[l],l,r,t):e;c===e&&(c=t[l]),i?Dr(r,l,c):Tr(r,l,c)}return r}function ui(e,t){return function(n,r){var a=bu(n)?nn:Lr,i=t?t():{};return a(n,e,Ni(r,2),i)}}function li(t){return Ia((function(n,r){var a=-1,i=r.length,o=i>1?r[i-1]:e,u=i>2?r[2]:e;for(o=t.length>3&&"function"==typeof o?(i--,o):e,u&&Zi(r[0],r[1],u)&&(o=i<3?e:o,i=1),n=nt(n);++a<i;){var l=r[a];l&&t(n,l,a,o)}return n}))}function ci(e,t){return function(n,r){if(null==n)return n;if(!xu(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=nt(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function si(e){return function(t,n,r){for(var a=-1,i=nt(t),o=r(t),u=o.length;u--;){var l=o[e?u:++a];if(!1===n(i[l],l,i))break}return t}}function fi(t){return function(n){var r=Mn(n=Hu(n))?Un(n):e,a=r?r[0]:n.charAt(0),i=r?Ya(r,1).join(""):n.slice(1);return a[t]()+i}}function di(e){return function(t){return dn(Al(yl(t).replace(Ot,"")),e,"")}}function vi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gr(e.prototype),r=e.apply(n,t);return ju(r)?r:n}}function pi(t){return function(n,r,a){var i=nt(n);if(!xu(n)){var o=Ni(r,3);n=ul(n),r=function(e){return o(i[e],e,i)}}var u=t(n,r,a);return u>-1?i[o?n[u]:u]:e}}function hi(t){return Ei((function(n){var a=n.length,i=a,o=yr.prototype.thru;for(t&&n.reverse();i--;){var u=n[i];if("function"!=typeof u)throw new it(r);if(o&&!l&&"wrapper"==Mi(u))var l=new yr([],!0)}for(i=l?i:a;++i<a;){var c=Mi(u=n[i]),s="wrapper"==c?Di(u):e;l=s&&Yi(s[0])&&s[1]==(b|_|m|w)&&!s[4].length&&1==s[9]?l[Mi(s[0])].apply(l,s[3]):1==u.length&&Yi(u)?l[c]():l.thru(u)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&bu(t))return l.plant(t).value();for(var r=0,i=a?n[r].apply(this,e):t;++r<a;)i=n[r].call(this,i);return i}}))}function _i(t,n,r,a,i,o,u,l,c,s){var f=n&b,d=n&v,h=n&p,m=n&(_|g),y=n&x,w=h?e:vi(t);return function v(){for(var p=arguments.length,_=De(p),g=p;g--;)_[g]=arguments[g];if(m)var b=qi(v),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,b);if(a&&(_=ri(_,a,i,m)),o&&(_=ai(_,o,u,m)),p-=x,m&&p<s){var S=zn(_,b);return Si(t,n,_i,v.placeholder,r,_,S,l,c,s-p)}var C=d?r:this,k=h?C[t]:t;return p=_.length,l?_=function(t,n){for(var r=t.length,a=Zn(n.length,r),i=ii(t);a--;){var o=n[a];t[a]=Hi(o,r)?i[o]:e}return t}(_,l):y&&p>1&&_.reverse(),f&&c<p&&(_.length=c),this&&this!==Ut&&this instanceof v&&(k=w||vi(k)),k.apply(C,_)}}function gi(e,t){return function(n,r){return function(e,t,n,r){return Kr(e,(function(e,a,i){t(r,n(e),a,i)})),r}(n,e,t(r),{})}}function mi(t,n){return function(r,a){var i;if(r===e&&a===e)return n;if(r!==e&&(i=r),a!==e){if(i===e)return a;"string"==typeof r||"string"==typeof a?(r=za(r),a=za(a)):(r=Na(r),a=Na(a)),i=t(r,a)}return i}}function yi(e){return Ei((function(t){return t=sn(t,On(Ni())),Ia((function(n){var r=this;return e(t,(function(e){return tn(e,r,n)}))}))}))}function bi(t,n){var r=(n=n===e?" ":za(n)).length;if(r<2)return r?ka(n,t):n;var a=ka(n,Vt(t/Wn(n)));return Mn(n)?Ya(Un(a),0,t).join(""):a.slice(0,t)}function wi(t){return function(n,r,a){return a&&"number"!=typeof a&&Zi(n,r,a)&&(r=a=e),n=Uu(n),r===e?(r=n,n=0):r=Uu(r),function(e,t,n,r){for(var a=-1,i=Hn(Vt((t-e)/(n||1)),0),o=De(i);i--;)o[r?i:++a]=e,e+=n;return o}(n,r,a=a===e?n<r?1:-1:Uu(a),t)}}function xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Qu(t),n=Qu(n)),e(t,n)}}function Si(t,n,r,a,i,o,u,l,c,s){var f=n&_;n|=f?m:y,(n&=~(f?y:m))&h||(n&=~(v|p));var d=[t,n,i,f?o:e,f?u:e,f?e:o,f?e:u,l,c,s],g=r.apply(e,d);return Yi(t)&&io(g,d),g.placeholder=a,lo(g,t,n)}function Ci(e){var t=tt[e];return function(e,n){if(e=Qu(e),(n=null==n?0:Zn(Vu(n),292))&&hn(e)){var r=(Hu(e)+"e").split("e");return+((r=(Hu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ki=rr&&1/Bn(new rr([,-0]))[1]==P?function(e){return new rr(e)}:Nl;function Ii(e){return function(t){var n=Vi(t);return n==Q?qn(t):n==X?$n(t):function(e,t){return sn(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ai(t,n,a,i,o,l,c,s){var f=n&p;if(!f&&"function"!=typeof t)throw new it(r);var d=i?i.length:0;if(d||(n&=~(m|y),i=o=e),c=c===e?c:Hn(Vu(c),0),s=s===e?s:Vu(s),d-=o?o.length:0,n&y){var x=i,S=o;i=o=e}var C=f?e:Di(t),k=[t,n,a,i,o,x,S,l,c,s];if(C&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<(v|p|b),o=r==b&&n==_||r==b&&n==w&&e[7].length<=t[8]||r==(b|w)&&t[7].length<=t[8]&&n==_;if(!i&&!o)return e;r&v&&(e[2]=t[2],a|=n&v?0:h);var l=t[3];if(l){var c=e[3];e[3]=c?ri(c,l,t[4]):l,e[4]=c?zn(e[3],u):t[4]}(l=t[5])&&(c=e[5],e[5]=c?ai(c,l,t[6]):l,e[6]=c?zn(e[5],u):t[6]),(l=t[7])&&(e[7]=l),r&b&&(e[8]=null==e[8]?t[8]:Zn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(k,C),t=k[0],n=k[1],a=k[2],i=k[3],o=k[4],!(s=k[9]=k[9]===e?f?0:t.length:Hn(k[9]-d,0))&&n&(_|g)&&(n&=~(_|g)),n&&n!=v)I=n==_||n==g?function(t,n,r){var a=vi(t);return function i(){for(var o=arguments.length,u=De(o),l=o,c=qi(i);l--;)u[l]=arguments[l];var s=o<3&&u[0]!==c&&u[o-1]!==c?[]:zn(u,c);return(o-=s.length)<r?Si(t,n,_i,i.placeholder,e,u,s,e,e,r-o):tn(this&&this!==Ut&&this instanceof i?a:t,this,u)}}(t,n,s):n!=m&&n!=(v|m)||o.length?_i.apply(e,k):function(e,t,n,r){var a=t&v,i=vi(e);return function t(){for(var o=-1,u=arguments.length,l=-1,c=r.length,s=De(c+u),f=this&&this!==Ut&&this instanceof t?i:e;++l<c;)s[l]=r[l];for(;u--;)s[l++]=arguments[++o];return tn(f,a?n:this,s)}}(t,n,a,i);else var I=function(e,t,n){var r=t&v,a=vi(e);return function t(){return(this&&this!==Ut&&this instanceof t?a:e).apply(r?n:this,arguments)}}(t,n,a);return lo((C?ja:io)(I,k),t,n)}function Oi(t,n,r,a){return t===e||_u(t,lt[r])&&!ft.call(a,r)?n:t}function Pi(t,n,r,a,i,o){return ju(t)&&ju(n)&&(o.set(n,t),ma(t,n,e,Pi,o),o.delete(n)),t}function ji(t){return Ru(t)?e:t}function Ti(t,n,r,a,i,o){var u=r&f,l=t.length,c=n.length;if(l!=c&&!(u&&c>l))return!1;var s=o.get(t),v=o.get(n);if(s&&v)return s==n&&v==t;var p=-1,h=!0,_=r&d?new Cr:e;for(o.set(t,n),o.set(n,t);++p<l;){var g=t[p],m=n[p];if(a)var y=u?a(m,g,p,n,t,o):a(g,m,p,t,n,o);if(y!==e){if(y)continue;h=!1;break}if(_){if(!pn(n,(function(e,t){if(!jn(_,t)&&(g===e||i(g,e,r,a,o)))return _.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,r,a,o)){h=!1;break}}return o.delete(t),o.delete(n),h}function Ei(t){return uo(no(t,e,wo),t+"")}function Li(e){return ea(e,ul,Wi)}function Ri(e){return ea(e,ll,Ui)}var Di=or?function(e){return or.get(e)}:Nl;function Mi(e){for(var t=e.name+"",n=ur[t],r=ft.call(ur,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function qi(e){return(ft.call(_r,"placeholder")?_r:e).placeholder}function Ni(){var e=_r.iteratee||Rl;return e=e===Rl?fa:e,arguments.length?e(arguments[0],arguments[1]):e}function zi(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Bi(e){for(var t=ul(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,eo(a)]}return t}function $i(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return sa(r)?r:e}var Wi=Gt?function(e){return null==e?[]:(e=nt(e),un(Gt(e),(function(t){return Ct.call(e,t)})))}:Fl,Ui=Gt?function(e){for(var t=[];e;)fn(t,Wi(e)),e=xt(e);return t}:Fl,Vi=ta;function Fi(e,t,n){for(var r=-1,a=(t=Za(t,e)).length,i=!1;++r<a;){var o=vo(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&Pu(a)&&Hi(o,a)&&(bu(e)||yu(e))}function Qi(e){return"function"!=typeof e.constructor||Xi(e)?{}:gr(xt(e))}function Gi(e){return bu(e)||yu(e)||!!(It&&e&&e[It])}function Hi(e,t){var n=typeof e;return!!(t=null==t?j:t)&&("number"==n||"symbol"!=n&&He.test(e))&&e>-1&&e%1==0&&e<t}function Zi(e,t,n){if(!ju(n))return!1;var r=typeof t;return!!("number"==r?xu(n)&&Hi(t,n.length):"string"==r&&t in n)&&_u(n[t],e)}function Ki(e,t){if(bu(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Nu(e))||je.test(e)||!Pe.test(e)||null!=t&&e in nt(t)}function Yi(e){var t=Mi(e),n=_r[t];if("function"!=typeof n||!(t in br.prototype))return!1;if(e===n)return!0;var r=Di(n);return!!r&&e===r[0]}(er&&Vi(new er(new ArrayBuffer(1)))!=ce||tr&&Vi(new tr)!=Q||nr&&Vi(nr.resolve())!=K||rr&&Vi(new rr)!=X||ar&&Vi(new ar)!=oe)&&(Vi=function(t){var n=ta(t),r=n==Z?t.constructor:e,a=r?po(r):"";if(a)switch(a){case lr:return ce;case cr:return Q;case sr:return K;case fr:return X;case dr:return oe}return n});var Ji=ct?Au:Ql;function Xi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lt)}function eo(e){return e==e&&!ju(e)}function to(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in nt(r))}}function no(t,n,r){return n=Hn(n===e?t.length-1:n,0),function(){for(var e=arguments,a=-1,i=Hn(e.length-n,0),o=De(i);++a<i;)o[a]=e[n+a];a=-1;for(var u=De(n+1);++a<n;)u[a]=e[a];return u[n]=r(o),tn(t,this,u)}}function ro(e,t){return t.length<2?e:Xr(e,La(t,0,-1))}function ao(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var io=co(ja),oo=Wt||function(e,t){return Ut.setTimeout(e,t)},uo=co(Ta);function lo(e,t,n){var r=t+"";return uo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Me,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return rn(M,(function(n){var r="_."+n[0];t&n[1]&&!ln(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(qe);return t?t[1].split(Ne):[]}(r),n)))}function co(t){var n=0,r=0;return function(){var a=Kn(),i=I-(a-r);if(r=a,i>0){if(++n>=k)return arguments[0]}else n=0;return t.apply(e,arguments)}}function so(t,n){var r=-1,a=t.length,i=a-1;for(n=n===e?a:n;++r<n;){var o=Ca(r,i),u=t[o];t[o]=t[r],t[r]=u}return t.length=n,t}var fo=function(e){var t=su(e,(function(e){return n.size===o&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Te,(function(e,n,r,a){t.push(r?a.replace($e,"$1"):n||e)})),t}));function vo(e){if("string"==typeof e||Nu(e))return e;var t=e+"";return"0"==t&&1/e==-P?"-0":t}function po(e){if(null!=e){try{return st.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ho(e){if(e instanceof br)return e.clone();var t=new yr(e.__wrapped__,e.__chain__);return t.__actions__=ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var _o=Ia((function(e,t){return Su(e)?$r(e,Gr(t,1,Su,!0)):[]})),go=Ia((function(t,n){var r=Io(n);return Su(r)&&(r=e),Su(t)?$r(t,Gr(n,1,Su,!0),Ni(r,2)):[]})),mo=Ia((function(t,n){var r=Io(n);return Su(r)&&(r=e),Su(t)?$r(t,Gr(n,1,Su,!0),e,r):[]}));function yo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Vu(n);return a<0&&(a=Hn(r+a,0)),gn(e,Ni(t,3),a)}function bo(t,n,r){var a=null==t?0:t.length;if(!a)return-1;var i=a-1;return r!==e&&(i=Vu(r),i=r<0?Hn(a+i,0):Zn(i,a-1)),gn(t,Ni(n,3),i,!0)}function wo(e){return null!=e&&e.length?Gr(e,1):[]}function xo(t){return t&&t.length?t[0]:e}var So=Ia((function(e){var t=sn(e,Ga);return t.length&&t[0]===e[0]?ia(t):[]})),Co=Ia((function(t){var n=Io(t),r=sn(t,Ga);return n===Io(r)?n=e:r.pop(),r.length&&r[0]===t[0]?ia(r,Ni(n,2)):[]})),ko=Ia((function(t){var n=Io(t),r=sn(t,Ga);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?ia(r,e,n):[]}));function Io(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Ao=Ia(Oo);function Oo(e,t){return e&&e.length&&t&&t.length?xa(e,t):e}var Po=Ei((function(e,t){var n=null==e?0:e.length,r=Mr(e,t);return Sa(e,sn(t,(function(e){return Hi(e,n)?+e:e})).sort(ni)),r}));function jo(e){return null==e?e:Xn.call(e)}var To=Ia((function(e){return Ba(Gr(e,1,Su,!0))})),Eo=Ia((function(t){var n=Io(t);return Su(n)&&(n=e),Ba(Gr(t,1,Su,!0),Ni(n,2))})),Lo=Ia((function(t){var n=Io(t);return n="function"==typeof n?n:e,Ba(Gr(t,1,Su,!0),e,n)}));function Ro(e){if(!e||!e.length)return[];var t=0;return e=un(e,(function(e){if(Su(e))return t=Hn(e.length,t),!0})),In(t,(function(t){return sn(e,xn(t))}))}function Do(t,n){if(!t||!t.length)return[];var r=Ro(t);return null==n?r:sn(r,(function(t){return tn(n,e,t)}))}var Mo=Ia((function(e,t){return Su(e)?$r(e,t):[]})),qo=Ia((function(e){return Fa(un(e,Su))})),No=Ia((function(t){var n=Io(t);return Su(n)&&(n=e),Fa(un(t,Su),Ni(n,2))})),zo=Ia((function(t){var n=Io(t);return n="function"==typeof n?n:e,Fa(un(t,Su),e,n)})),Bo=Ia(Ro),$o=Ia((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,Do(t,r)}));function Wo(e){var t=_r(e);return t.__chain__=!0,t}function Uo(e,t){return t(e)}var Vo=Ei((function(t){var n=t.length,r=n?t[0]:0,a=this.__wrapped__,i=function(e){return Mr(e,t)};return!(n>1||this.__actions__.length)&&a instanceof br&&Hi(r)?((a=a.slice(r,+r+(n?1:0))).__actions__.push({func:Uo,args:[i],thisArg:e}),new yr(a,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(i)})),Fo=ui((function(e,t,n){ft.call(e,n)?++e[n]:Dr(e,n,1)})),Qo=pi(yo),Go=pi(bo);function Ho(e,t){return(bu(e)?rn:Wr)(e,Ni(t,3))}function Zo(e,t){return(bu(e)?an:Ur)(e,Ni(t,3))}var Ko=ui((function(e,t,n){ft.call(e,n)?e[n].push(t):Dr(e,n,[t])})),Yo=Ia((function(e,t,n){var r=-1,a="function"==typeof t,i=xu(e)?De(e.length):[];return Wr(e,(function(e){i[++r]=a?tn(t,e,n):oa(e,t,n)})),i})),Jo=ui((function(e,t,n){Dr(e,n,t)}));function Xo(e,t){return(bu(e)?sn:ha)(e,Ni(t,3))}var eu=ui((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),tu=Ia((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Zi(e,t[0],t[1])?t=[]:n>2&&Zi(t[0],t[1],t[2])&&(t=[t[0]]),ba(e,Gr(t,1),[])})),nu=$t||function(){return Ut.Date.now()};function ru(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,Ai(t,b,e,e,e,e,n)}function au(t,n){var a;if("function"!=typeof n)throw new it(r);return t=Vu(t),function(){return--t>0&&(a=n.apply(this,arguments)),t<=1&&(n=e),a}}var iu=Ia((function(e,t,n){var r=v;if(n.length){var a=zn(n,qi(iu));r|=m}return Ai(e,r,t,n,a)})),ou=Ia((function(e,t,n){var r=v|p;if(n.length){var a=zn(n,qi(ou));r|=m}return Ai(t,r,e,n,a)}));function uu(t,n,a){var i,o,u,l,c,s,f=0,d=!1,v=!1,p=!0;if("function"!=typeof t)throw new it(r);function h(n){var r=i,a=o;return i=o=e,f=n,l=t.apply(a,r)}function _(t){var r=t-s;return s===e||r>=n||r<0||v&&t-f>=u}function g(){var e=nu();if(_(e))return m(e);c=oo(g,function(e){var t=n-(e-s);return v?Zn(t,u-(e-f)):t}(e))}function m(t){return c=e,p&&i?h(t):(i=o=e,l)}function y(){var t=nu(),r=_(t);if(i=arguments,o=this,s=t,r){if(c===e)return function(e){return f=e,c=oo(g,n),d?h(e):l}(s);if(v)return Ja(c),c=oo(g,n),h(s)}return c===e&&(c=oo(g,n)),l}return n=Qu(n)||0,ju(a)&&(d=!!a.leading,u=(v="maxWait"in a)?Hn(Qu(a.maxWait)||0,n):u,p="trailing"in a?!!a.trailing:p),y.cancel=function(){c!==e&&Ja(c),f=0,i=s=o=c=e},y.flush=function(){return c===e?l:m(nu())},y}var lu=Ia((function(e,t){return Br(e,1,t)})),cu=Ia((function(e,t,n){return Br(e,Qu(t)||0,n)}));function su(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(r);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(su.Cache||Sr),n}function fu(e){if("function"!=typeof e)throw new it(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}su.Cache=Sr;var du=Ka((function(e,t){var n=(t=1==t.length&&bu(t[0])?sn(t[0],On(Ni())):sn(Gr(t,1),On(Ni()))).length;return Ia((function(r){for(var a=-1,i=Zn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return tn(e,this,r)}))})),vu=Ia((function(t,n){var r=zn(n,qi(vu));return Ai(t,m,e,n,r)})),pu=Ia((function(t,n){var r=zn(n,qi(pu));return Ai(t,y,e,n,r)})),hu=Ei((function(t,n){return Ai(t,w,e,e,e,n)}));function _u(e,t){return e===t||e!=e&&t!=t}var gu=xi(na),mu=xi((function(e,t){return e>=t})),yu=ua(function(){return arguments}())?ua:function(e){return Tu(e)&&ft.call(e,"callee")&&!Ct.call(e,"callee")},bu=De.isArray,wu=Zt?On(Zt):function(e){return Tu(e)&&ta(e)==le};function xu(e){return null!=e&&Pu(e.length)&&!Au(e)}function Su(e){return Tu(e)&&xu(e)}var Cu=Ht||Ql,ku=Kt?On(Kt):function(e){return Tu(e)&&ta(e)==$};function Iu(e){if(!Tu(e))return!1;var t=ta(e);return t==U||t==W||"string"==typeof e.message&&"string"==typeof e.name&&!Ru(e)}function Au(e){if(!ju(e))return!1;var t=ta(e);return t==V||t==F||t==z||t==Y}function Ou(e){return"number"==typeof e&&e==Vu(e)}function Pu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=j}function ju(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Tu(e){return null!=e&&"object"==typeof e}var Eu=Yt?On(Yt):function(e){return Tu(e)&&Vi(e)==Q};function Lu(e){return"number"==typeof e||Tu(e)&&ta(e)==G}function Ru(e){if(!Tu(e)||ta(e)!=Z)return!1;var t=xt(e);if(null===t)return!0;var n=ft.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&st.call(n)==ht}var Du=Jt?On(Jt):function(e){return Tu(e)&&ta(e)==J},Mu=Xt?On(Xt):function(e){return Tu(e)&&Vi(e)==X};function qu(e){return"string"==typeof e||!bu(e)&&Tu(e)&&ta(e)==ee}function Nu(e){return"symbol"==typeof e||Tu(e)&&ta(e)==te}var zu=en?On(en):function(e){return Tu(e)&&Pu(e.length)&&!!Mt[ta(e)]},Bu=xi(pa),$u=xi((function(e,t){return e<=t}));function Wu(e){if(!e)return[];if(xu(e))return qu(e)?Un(e):ii(e);if(At&&e[At])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[At]());var t=Vi(e);return(t==Q?qn:t==X?Bn:_l)(e)}function Uu(e){return e?(e=Qu(e))===P||e===-P?(e<0?-1:1)*T:e==e?e:0:0===e?e:0}function Vu(e){var t=Uu(e),n=t%1;return t==t?n?t-n:t:0}function Fu(e){return e?qr(Vu(e),0,L):0}function Qu(e){if("number"==typeof e)return e;if(Nu(e))return E;if(ju(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ju(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=An(e);var n=Fe.test(e);return n||Ge.test(e)?Bt(e.slice(2),n?2:8):Ve.test(e)?E:+e}function Gu(e){return oi(e,ll(e))}function Hu(e){return null==e?"":za(e)}var Zu=li((function(e,t){if(Xi(t)||xu(t))oi(t,ul(t),e);else for(var n in t)ft.call(t,n)&&Tr(e,n,t[n])})),Ku=li((function(e,t){oi(t,ll(t),e)})),Yu=li((function(e,t,n,r){oi(t,ll(t),e,r)})),Ju=li((function(e,t,n,r){oi(t,ul(t),e,r)})),Xu=Ei(Mr),el=Ia((function(t,n){t=nt(t);var r=-1,a=n.length,i=a>2?n[2]:e;for(i&&Zi(n[0],n[1],i)&&(a=1);++r<a;)for(var o=n[r],u=ll(o),l=-1,c=u.length;++l<c;){var s=u[l],f=t[s];(f===e||_u(f,lt[s])&&!ft.call(t,s))&&(t[s]=o[s])}return t})),tl=Ia((function(t){return t.push(e,Pi),tn(sl,e,t)}));function nl(t,n,r){var a=null==t?e:Xr(t,n);return a===e?r:a}function rl(e,t){return null!=e&&Fi(e,t,aa)}var al=gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=n}),jl(Ll)),il=gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),ft.call(e,t)?e[t].push(n):e[t]=[n]}),Ni),ol=Ia(oa);function ul(e){return xu(e)?Ir(e):da(e)}function ll(e){return xu(e)?Ir(e,!0):va(e)}var cl=li((function(e,t,n){ma(e,t,n)})),sl=li((function(e,t,n,r){ma(e,t,n,r)})),fl=Ei((function(e,t){var n={};if(null==e)return n;var r=!1;t=sn(t,(function(t){return t=Za(t,e),r||(r=t.length>1),t})),oi(e,Ri(e),n),r&&(n=Nr(n,l|c|s,ji));for(var a=t.length;a--;)$a(n,t[a]);return n})),dl=Ei((function(e,t){return null==e?{}:function(e,t){return wa(e,t,(function(t,n){return rl(e,n)}))}(e,t)}));function vl(e,t){if(null==e)return{};var n=sn(Ri(e),(function(e){return[e]}));return t=Ni(t),wa(e,n,(function(e,n){return t(e,n[0])}))}var pl=Ii(ul),hl=Ii(ll);function _l(e){return null==e?[]:Pn(e,ul(e))}var gl=di((function(e,t,n){return t=t.toLowerCase(),e+(n?ml(t):t)}));function ml(e){return Il(Hu(e).toLowerCase())}function yl(e){return(e=Hu(e))&&e.replace(Ze,Ln).replace(Pt,"")}var bl=di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),wl=di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),xl=fi("toLowerCase"),Sl=di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Cl=di((function(e,t,n){return e+(n?" ":"")+Il(t)})),kl=di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Il=fi("toUpperCase");function Al(t,n,r){return t=Hu(t),(n=r?e:n)===e?function(e){return Lt.test(e)}(t)?function(e){return e.match(Tt)||[]}(t):function(e){return e.match(ze)||[]}(t):t.match(n)||[]}var Ol=Ia((function(t,n){try{return tn(t,e,n)}catch(e){return Iu(e)?e:new Xe(e)}})),Pl=Ei((function(e,t){return rn(t,(function(t){t=vo(t),Dr(e,t,iu(e[t],e))})),e}));function jl(e){return function(){return e}}var Tl=hi(),El=hi(!0);function Ll(e){return e}function Rl(e){return fa("function"==typeof e?e:Nr(e,l))}var Dl=Ia((function(e,t){return function(n){return oa(n,e,t)}})),Ml=Ia((function(e,t){return function(n){return oa(e,n,t)}}));function ql(e,t,n){var r=ul(t),a=Jr(t,r);null!=n||ju(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=Jr(t,ul(t)));var i=!(ju(n)&&"chain"in n&&!n.chain),o=Au(e);return rn(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,fn([this.value()],arguments))})})),e}function Nl(){}var zl=yi(sn),Bl=yi(on),$l=yi(pn);function Wl(e){return Ki(e)?xn(vo(e)):function(e){return function(t){return Xr(t,e)}}(e)}var Ul=wi(),Vl=wi(!0);function Fl(){return[]}function Ql(){return!1}var Gl,Hl=mi((function(e,t){return e+t}),0),Zl=Ci("ceil"),Kl=mi((function(e,t){return e/t}),1),Yl=Ci("floor"),Jl=mi((function(e,t){return e*t}),1),Xl=Ci("round"),ec=mi((function(e,t){return e-t}),0);return _r.after=function(e,t){if("function"!=typeof t)throw new it(r);return e=Vu(e),function(){if(--e<1)return t.apply(this,arguments)}},_r.ary=ru,_r.assign=Zu,_r.assignIn=Ku,_r.assignInWith=Yu,_r.assignWith=Ju,_r.at=Xu,_r.before=au,_r.bind=iu,_r.bindAll=Pl,_r.bindKey=ou,_r.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return bu(e)?e:[e]},_r.chain=Wo,_r.chunk=function(t,n,r){n=(r?Zi(t,n,r):n===e)?1:Hn(Vu(n),0);var a=null==t?0:t.length;if(!a||n<1)return[];for(var i=0,o=0,u=De(Vt(a/n));i<a;)u[o++]=La(t,i,i+=n);return u},_r.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},_r.concat=function(){var e=arguments.length;if(!e)return[];for(var t=De(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return fn(bu(n)?ii(n):[n],Gr(t,1))},_r.cond=function(e){var t=null==e?0:e.length,n=Ni();return e=t?sn(e,(function(e){if("function"!=typeof e[1])throw new it(r);return[n(e[0]),e[1]]})):[],Ia((function(n){for(var r=-1;++r<t;){var a=e[r];if(tn(a[0],this,n))return tn(a[1],this,n)}}))},_r.conforms=function(e){return function(e){var t=ul(e);return function(n){return zr(n,e,t)}}(Nr(e,l))},_r.constant=jl,_r.countBy=Fo,_r.create=function(e,t){var n=gr(e);return null==t?n:Rr(n,t)},_r.curry=function t(n,r,a){var i=Ai(n,_,e,e,e,e,e,r=a?e:r);return i.placeholder=t.placeholder,i},_r.curryRight=function t(n,r,a){var i=Ai(n,g,e,e,e,e,e,r=a?e:r);return i.placeholder=t.placeholder,i},_r.debounce=uu,_r.defaults=el,_r.defaultsDeep=tl,_r.defer=lu,_r.delay=cu,_r.difference=_o,_r.differenceBy=go,_r.differenceWith=mo,_r.drop=function(t,n,r){var a=null==t?0:t.length;return a?La(t,(n=r||n===e?1:Vu(n))<0?0:n,a):[]},_r.dropRight=function(t,n,r){var a=null==t?0:t.length;return a?La(t,0,(n=a-(n=r||n===e?1:Vu(n)))<0?0:n):[]},_r.dropRightWhile=function(e,t){return e&&e.length?Ua(e,Ni(t,3),!0,!0):[]},_r.dropWhile=function(e,t){return e&&e.length?Ua(e,Ni(t,3),!0):[]},_r.fill=function(t,n,r,a){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Zi(t,n,r)&&(r=0,a=i),function(t,n,r,a){var i=t.length;for((r=Vu(r))<0&&(r=-r>i?0:i+r),(a=a===e||a>i?i:Vu(a))<0&&(a+=i),a=r>a?0:Fu(a);r<a;)t[r++]=n;return t}(t,n,r,a)):[]},_r.filter=function(e,t){return(bu(e)?un:Qr)(e,Ni(t,3))},_r.flatMap=function(e,t){return Gr(Xo(e,t),1)},_r.flatMapDeep=function(e,t){return Gr(Xo(e,t),P)},_r.flatMapDepth=function(t,n,r){return r=r===e?1:Vu(r),Gr(Xo(t,n),r)},_r.flatten=wo,_r.flattenDeep=function(e){return null!=e&&e.length?Gr(e,P):[]},_r.flattenDepth=function(t,n){return null!=t&&t.length?Gr(t,n=n===e?1:Vu(n)):[]},_r.flip=function(e){return Ai(e,x)},_r.flow=Tl,_r.flowRight=El,_r.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},_r.functions=function(e){return null==e?[]:Jr(e,ul(e))},_r.functionsIn=function(e){return null==e?[]:Jr(e,ll(e))},_r.groupBy=Ko,_r.initial=function(e){return null!=e&&e.length?La(e,0,-1):[]},_r.intersection=So,_r.intersectionBy=Co,_r.intersectionWith=ko,_r.invert=al,_r.invertBy=il,_r.invokeMap=Yo,_r.iteratee=Rl,_r.keyBy=Jo,_r.keys=ul,_r.keysIn=ll,_r.map=Xo,_r.mapKeys=function(e,t){var n={};return t=Ni(t,3),Kr(e,(function(e,r,a){Dr(n,t(e,r,a),e)})),n},_r.mapValues=function(e,t){var n={};return t=Ni(t,3),Kr(e,(function(e,r,a){Dr(n,r,t(e,r,a))})),n},_r.matches=function(e){return _a(Nr(e,l))},_r.matchesProperty=function(e,t){return ga(e,Nr(t,l))},_r.memoize=su,_r.merge=cl,_r.mergeWith=sl,_r.method=Dl,_r.methodOf=Ml,_r.mixin=ql,_r.negate=fu,_r.nthArg=function(e){return e=Vu(e),Ia((function(t){return ya(t,e)}))},_r.omit=fl,_r.omitBy=function(e,t){return vl(e,fu(Ni(t)))},_r.once=function(e){return au(2,e)},_r.orderBy=function(t,n,r,a){return null==t?[]:(bu(n)||(n=null==n?[]:[n]),bu(r=a?e:r)||(r=null==r?[]:[r]),ba(t,n,r))},_r.over=zl,_r.overArgs=du,_r.overEvery=Bl,_r.overSome=$l,_r.partial=vu,_r.partialRight=pu,_r.partition=eu,_r.pick=dl,_r.pickBy=vl,_r.property=Wl,_r.propertyOf=function(t){return function(n){return null==t?e:Xr(t,n)}},_r.pull=Ao,_r.pullAll=Oo,_r.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?xa(e,t,Ni(n,2)):e},_r.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?xa(t,n,e,r):t},_r.pullAt=Po,_r.range=Ul,_r.rangeRight=Vl,_r.rearg=hu,_r.reject=function(e,t){return(bu(e)?un:Qr)(e,fu(Ni(t,3)))},_r.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=Ni(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return Sa(e,a),n},_r.rest=function(t,n){if("function"!=typeof t)throw new it(r);return Ia(t,n=n===e?n:Vu(n))},_r.reverse=jo,_r.sampleSize=function(t,n,r){return n=(r?Zi(t,n,r):n===e)?1:Vu(n),(bu(t)?Or:Oa)(t,n)},_r.set=function(e,t,n){return null==e?e:Pa(e,t,n)},_r.setWith=function(t,n,r,a){return a="function"==typeof a?a:e,null==t?t:Pa(t,n,r,a)},_r.shuffle=function(e){return(bu(e)?Pr:Ea)(e)},_r.slice=function(t,n,r){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&Zi(t,n,r)?(n=0,r=a):(n=null==n?0:Vu(n),r=r===e?a:Vu(r)),La(t,n,r)):[]},_r.sortBy=tu,_r.sortedUniq=function(e){return e&&e.length?qa(e):[]},_r.sortedUniqBy=function(e,t){return e&&e.length?qa(e,Ni(t,2)):[]},_r.split=function(t,n,r){return r&&"number"!=typeof r&&Zi(t,n,r)&&(n=r=e),(r=r===e?L:r>>>0)?(t=Hu(t))&&("string"==typeof n||null!=n&&!Du(n))&&!(n=za(n))&&Mn(t)?Ya(Un(t),0,r):t.split(n,r):[]},_r.spread=function(e,t){if("function"!=typeof e)throw new it(r);return t=null==t?0:Hn(Vu(t),0),Ia((function(n){var r=n[t],a=Ya(n,0,t);return r&&fn(a,r),tn(e,this,a)}))},_r.tail=function(e){var t=null==e?0:e.length;return t?La(e,1,t):[]},_r.take=function(t,n,r){return t&&t.length?La(t,0,(n=r||n===e?1:Vu(n))<0?0:n):[]},_r.takeRight=function(t,n,r){var a=null==t?0:t.length;return a?La(t,(n=a-(n=r||n===e?1:Vu(n)))<0?0:n,a):[]},_r.takeRightWhile=function(e,t){return e&&e.length?Ua(e,Ni(t,3),!1,!0):[]},_r.takeWhile=function(e,t){return e&&e.length?Ua(e,Ni(t,3)):[]},_r.tap=function(e,t){return t(e),e},_r.throttle=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new it(r);return ju(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),uu(e,t,{leading:a,maxWait:t,trailing:i})},_r.thru=Uo,_r.toArray=Wu,_r.toPairs=pl,_r.toPairsIn=hl,_r.toPath=function(e){return bu(e)?sn(e,vo):Nu(e)?[e]:ii(fo(Hu(e)))},_r.toPlainObject=Gu,_r.transform=function(e,t,n){var r=bu(e),a=r||Cu(e)||zu(e);if(t=Ni(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:ju(e)&&Au(i)?gr(xt(e)):{}}return(a?rn:Kr)(e,(function(e,r,a){return t(n,e,r,a)})),n},_r.unary=function(e){return ru(e,1)},_r.union=To,_r.unionBy=Eo,_r.unionWith=Lo,_r.uniq=function(e){return e&&e.length?Ba(e):[]},_r.uniqBy=function(e,t){return e&&e.length?Ba(e,Ni(t,2)):[]},_r.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?Ba(t,e,n):[]},_r.unset=function(e,t){return null==e||$a(e,t)},_r.unzip=Ro,_r.unzipWith=Do,_r.update=function(e,t,n){return null==e?e:Wa(e,t,Ha(n))},_r.updateWith=function(t,n,r,a){return a="function"==typeof a?a:e,null==t?t:Wa(t,n,Ha(r),a)},_r.values=_l,_r.valuesIn=function(e){return null==e?[]:Pn(e,ll(e))},_r.without=Mo,_r.words=Al,_r.wrap=function(e,t){return vu(Ha(t),e)},_r.xor=qo,_r.xorBy=No,_r.xorWith=zo,_r.zip=Bo,_r.zipObject=function(e,t){return Qa(e||[],t||[],Tr)},_r.zipObjectDeep=function(e,t){return Qa(e||[],t||[],Pa)},_r.zipWith=$o,_r.entries=pl,_r.entriesIn=hl,_r.extend=Ku,_r.extendWith=Yu,ql(_r,_r),_r.add=Hl,_r.attempt=Ol,_r.camelCase=gl,_r.capitalize=ml,_r.ceil=Zl,_r.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=Qu(r))==r?r:0),n!==e&&(n=(n=Qu(n))==n?n:0),qr(Qu(t),n,r)},_r.clone=function(e){return Nr(e,s)},_r.cloneDeep=function(e){return Nr(e,l|s)},_r.cloneDeepWith=function(t,n){return Nr(t,l|s,n="function"==typeof n?n:e)},_r.cloneWith=function(t,n){return Nr(t,s,n="function"==typeof n?n:e)},_r.conformsTo=function(e,t){return null==t||zr(e,t,ul(t))},_r.deburr=yl,_r.defaultTo=function(e,t){return null==e||e!=e?t:e},_r.divide=Kl,_r.endsWith=function(t,n,r){t=Hu(t),n=za(n);var a=t.length,i=r=r===e?a:qr(Vu(r),0,a);return(r-=n.length)>=0&&t.slice(r,i)==n},_r.eq=_u,_r.escape=function(e){return(e=Hu(e))&&ke.test(e)?e.replace(Se,Rn):e},_r.escapeRegExp=function(e){return(e=Hu(e))&&Le.test(e)?e.replace(Ee,"\\$&"):e},_r.every=function(t,n,r){var a=bu(t)?on:Vr;return r&&Zi(t,n,r)&&(n=e),a(t,Ni(n,3))},_r.find=Qo,_r.findIndex=yo,_r.findKey=function(e,t){return _n(e,Ni(t,3),Kr)},_r.findLast=Go,_r.findLastIndex=bo,_r.findLastKey=function(e,t){return _n(e,Ni(t,3),Yr)},_r.floor=Yl,_r.forEach=Ho,_r.forEachRight=Zo,_r.forIn=function(e,t){return null==e?e:Hr(e,Ni(t,3),ll)},_r.forInRight=function(e,t){return null==e?e:Zr(e,Ni(t,3),ll)},_r.forOwn=function(e,t){return e&&Kr(e,Ni(t,3))},_r.forOwnRight=function(e,t){return e&&Yr(e,Ni(t,3))},_r.get=nl,_r.gt=gu,_r.gte=mu,_r.has=function(e,t){return null!=e&&Fi(e,t,ra)},_r.hasIn=rl,_r.head=xo,_r.identity=Ll,_r.includes=function(e,t,n,r){e=xu(e)?e:_l(e),n=n&&!r?Vu(n):0;var a=e.length;return n<0&&(n=Hn(a+n,0)),qu(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&mn(e,t,n)>-1},_r.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Vu(n);return a<0&&(a=Hn(r+a,0)),mn(e,t,a)},_r.inRange=function(t,n,r){return n=Uu(n),r===e?(r=n,n=0):r=Uu(r),function(e,t,n){return e>=Zn(t,n)&&e<Hn(t,n)}(t=Qu(t),n,r)},_r.invoke=ol,_r.isArguments=yu,_r.isArray=bu,_r.isArrayBuffer=wu,_r.isArrayLike=xu,_r.isArrayLikeObject=Su,_r.isBoolean=function(e){return!0===e||!1===e||Tu(e)&&ta(e)==B},_r.isBuffer=Cu,_r.isDate=ku,_r.isElement=function(e){return Tu(e)&&1===e.nodeType&&!Ru(e)},_r.isEmpty=function(e){if(null==e)return!0;if(xu(e)&&(bu(e)||"string"==typeof e||"function"==typeof e.splice||Cu(e)||zu(e)||yu(e)))return!e.length;var t=Vi(e);if(t==Q||t==X)return!e.size;if(Xi(e))return!da(e).length;for(var n in e)if(ft.call(e,n))return!1;return!0},_r.isEqual=function(e,t){return la(e,t)},_r.isEqualWith=function(t,n,r){var a=(r="function"==typeof r?r:e)?r(t,n):e;return a===e?la(t,n,e,r):!!a},_r.isError=Iu,_r.isFinite=function(e){return"number"==typeof e&&hn(e)},_r.isFunction=Au,_r.isInteger=Ou,_r.isLength=Pu,_r.isMap=Eu,_r.isMatch=function(e,t){return e===t||ca(e,t,Bi(t))},_r.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,ca(t,n,Bi(n),r)},_r.isNaN=function(e){return Lu(e)&&e!=+e},_r.isNative=function(e){if(Ji(e))throw new Xe(n);return sa(e)},_r.isNil=function(e){return null==e},_r.isNull=function(e){return null===e},_r.isNumber=Lu,_r.isObject=ju,_r.isObjectLike=Tu,_r.isPlainObject=Ru,_r.isRegExp=Du,_r.isSafeInteger=function(e){return Ou(e)&&e>=-j&&e<=j},_r.isSet=Mu,_r.isString=qu,_r.isSymbol=Nu,_r.isTypedArray=zu,_r.isUndefined=function(t){return t===e},_r.isWeakMap=function(e){return Tu(e)&&Vi(e)==oe},_r.isWeakSet=function(e){return Tu(e)&&ta(e)==ue},_r.join=function(e,t){return null==e?"":Sn.call(e,t)},_r.kebabCase=bl,_r.last=Io,_r.lastIndexOf=function(t,n,r){var a=null==t?0:t.length;if(!a)return-1;var i=a;return r!==e&&(i=(i=Vu(r))<0?Hn(a+i,0):Zn(i,a-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,i):gn(t,bn,i,!0)},_r.lowerCase=wl,_r.lowerFirst=xl,_r.lt=Bu,_r.lte=$u,_r.max=function(t){return t&&t.length?Fr(t,Ll,na):e},_r.maxBy=function(t,n){return t&&t.length?Fr(t,Ni(n,2),na):e},_r.mean=function(e){return wn(e,Ll)},_r.meanBy=function(e,t){return wn(e,Ni(t,2))},_r.min=function(t){return t&&t.length?Fr(t,Ll,pa):e},_r.minBy=function(t,n){return t&&t.length?Fr(t,Ni(n,2),pa):e},_r.stubArray=Fl,_r.stubFalse=Ql,_r.stubObject=function(){return{}},_r.stubString=function(){return""},_r.stubTrue=function(){return!0},_r.multiply=Jl,_r.nth=function(t,n){return t&&t.length?ya(t,Vu(n)):e},_r.noConflict=function(){return Ut._===this&&(Ut._=_t),this},_r.noop=Nl,_r.now=nu,_r.pad=function(e,t,n){e=Hu(e);var r=(t=Vu(t))?Wn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return bi(Ft(a),n)+e+bi(Vt(a),n)},_r.padEnd=function(e,t,n){e=Hu(e);var r=(t=Vu(t))?Wn(e):0;return t&&r<t?e+bi(t-r,n):e},_r.padStart=function(e,t,n){e=Hu(e);var r=(t=Vu(t))?Wn(e):0;return t&&r<t?bi(t-r,n)+e:e},_r.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Yn(Hu(e).replace(Re,""),t||0)},_r.random=function(t,n,r){if(r&&"boolean"!=typeof r&&Zi(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=Uu(t),n===e?(n=t,t=0):n=Uu(n)),t>n){var a=t;t=n,n=a}if(r||t%1||n%1){var i=Jn();return Zn(t+i*(n-t+zt("1e-"+((i+"").length-1))),n)}return Ca(t,n)},_r.reduce=function(e,t,n){var r=bu(e)?dn:Cn,a=arguments.length<3;return r(e,Ni(t,4),n,a,Wr)},_r.reduceRight=function(e,t,n){var r=bu(e)?vn:Cn,a=arguments.length<3;return r(e,Ni(t,4),n,a,Ur)},_r.repeat=function(t,n,r){return n=(r?Zi(t,n,r):n===e)?1:Vu(n),ka(Hu(t),n)},_r.replace=function(){var e=arguments,t=Hu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},_r.result=function(t,n,r){var a=-1,i=(n=Za(n,t)).length;for(i||(i=1,t=e);++a<i;){var o=null==t?e:t[vo(n[a])];o===e&&(a=i,o=r),t=Au(o)?o.call(t):o}return t},_r.round=Xl,_r.runInContext=re,_r.sample=function(e){return(bu(e)?Ar:Aa)(e)},_r.size=function(e){if(null==e)return 0;if(xu(e))return qu(e)?Wn(e):e.length;var t=Vi(e);return t==Q||t==X?e.size:da(e).length},_r.snakeCase=Sl,_r.some=function(t,n,r){var a=bu(t)?pn:Ra;return r&&Zi(t,n,r)&&(n=e),a(t,Ni(n,3))},_r.sortedIndex=function(e,t){return Da(e,t)},_r.sortedIndexBy=function(e,t,n){return Ma(e,t,Ni(n,2))},_r.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Da(e,t);if(r<n&&_u(e[r],t))return r}return-1},_r.sortedLastIndex=function(e,t){return Da(e,t,!0)},_r.sortedLastIndexBy=function(e,t,n){return Ma(e,t,Ni(n,2),!0)},_r.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Da(e,t,!0)-1;if(_u(e[n],t))return n}return-1},_r.startCase=Cl,_r.startsWith=function(e,t,n){return e=Hu(e),n=null==n?0:qr(Vu(n),0,e.length),t=za(t),e.slice(n,n+t.length)==t},_r.subtract=ec,_r.sum=function(e){return e&&e.length?kn(e,Ll):0},_r.sumBy=function(e,t){return e&&e.length?kn(e,Ni(t,2)):0},_r.template=function(t,n,r){var i=_r.templateSettings;r&&Zi(t,n,r)&&(n=e),t=Hu(t),n=Yu({},n,i,Oi);var o,u,l=Yu({},n.imports,i.imports,Oi),c=ul(l),s=Pn(l,c),f=0,d=n.interpolate||Ke,v="__p += '",p=rt((n.escape||Ke).source+"|"+d.source+"|"+(d===Oe?We:Ke).source+"|"+(n.evaluate||Ke).source+"|$","g"),h="//# sourceURL="+(ft.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dt+"]")+"\n";t.replace(p,(function(e,n,r,a,i,l){return r||(r=a),v+=t.slice(f,l).replace(Ye,Dn),n&&(o=!0,v+="' +\n__e("+n+") +\n'"),i&&(u=!0,v+="';\n"+i+";\n__p += '"),r&&(v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=l+e.length,e})),v+="';\n";var _=ft.call(n,"variable")&&n.variable;if(_){if(Be.test(_))throw new Xe(a)}else v="with (obj) {\n"+v+"\n}\n";v=(u?v.replace(ye,""):v).replace(be,"$1").replace(we,"$1;"),v="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var g=Ol((function(){return et(c,h+"return "+v).apply(e,s)}));if(g.source=v,Iu(g))throw g;return g},_r.times=function(e,t){if((e=Vu(e))<1||e>j)return[];var n=L,r=Zn(e,L);t=Ni(t),e-=L;for(var a=In(r,t);++n<e;)t(n);return a},_r.toFinite=Uu,_r.toInteger=Vu,_r.toLength=Fu,_r.toLower=function(e){return Hu(e).toLowerCase()},_r.toNumber=Qu,_r.toSafeInteger=function(e){return e?qr(Vu(e),-j,j):0===e?e:0},_r.toString=Hu,_r.toUpper=function(e){return Hu(e).toUpperCase()},_r.trim=function(t,n,r){if((t=Hu(t))&&(r||n===e))return An(t);if(!t||!(n=za(n)))return t;var a=Un(t),i=Un(n);return Ya(a,Tn(a,i),En(a,i)+1).join("")},_r.trimEnd=function(t,n,r){if((t=Hu(t))&&(r||n===e))return t.slice(0,Vn(t)+1);if(!t||!(n=za(n)))return t;var a=Un(t);return Ya(a,0,En(a,Un(n))+1).join("")},_r.trimStart=function(t,n,r){if((t=Hu(t))&&(r||n===e))return t.replace(Re,"");if(!t||!(n=za(n)))return t;var a=Un(t);return Ya(a,Tn(a,Un(n))).join("")},_r.truncate=function(t,n){var r=S,a=C;if(ju(n)){var i="separator"in n?n.separator:i;r="length"in n?Vu(n.length):r,a="omission"in n?za(n.omission):a}var o=(t=Hu(t)).length;if(Mn(t)){var u=Un(t);o=u.length}if(r>=o)return t;var l=r-Wn(a);if(l<1)return a;var c=u?Ya(u,0,l).join(""):t.slice(0,l);if(i===e)return c+a;if(u&&(l+=c.length-l),Du(i)){if(t.slice(l).search(i)){var s,f=c;for(i.global||(i=rt(i.source,Hu(Ue.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var d=s.index;c=c.slice(0,d===e?l:d)}}else if(t.indexOf(za(i),l)!=l){var v=c.lastIndexOf(i);v>-1&&(c=c.slice(0,v))}return c+a},_r.unescape=function(e){return(e=Hu(e))&&Ce.test(e)?e.replace(xe,Fn):e},_r.uniqueId=function(e){var t=++dt;return Hu(e)+t},_r.upperCase=kl,_r.upperFirst=Il,_r.each=Ho,_r.eachRight=Zo,_r.first=xo,ql(_r,(Gl={},Kr(_r,(function(e,t){ft.call(_r.prototype,t)||(Gl[t]=e)})),Gl),{chain:!1}),_r.VERSION="4.17.21",rn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){_r[e].placeholder=_r})),rn(["drop","take"],(function(t,n){br.prototype[t]=function(r){r=r===e?1:Hn(Vu(r),0);var a=this.__filtered__&&!n?new br(this):this.clone();return a.__filtered__?a.__takeCount__=Zn(r,a.__takeCount__):a.__views__.push({size:Zn(r,L),type:t+(a.__dir__<0?"Right":"")}),a},br.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),rn(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==A||3==n;br.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ni(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),rn(["head","last"],(function(e,t){var n="take"+(t?"Right":"");br.prototype[e]=function(){return this[n](1).value()[0]}})),rn(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");br.prototype[e]=function(){return this.__filtered__?new br(this):this[n](1)}})),br.prototype.compact=function(){return this.filter(Ll)},br.prototype.find=function(e){return this.filter(e).head()},br.prototype.findLast=function(e){return this.reverse().find(e)},br.prototype.invokeMap=Ia((function(e,t){return"function"==typeof e?new br(this):this.map((function(n){return oa(n,e,t)}))})),br.prototype.reject=function(e){return this.filter(fu(Ni(e)))},br.prototype.slice=function(t,n){t=Vu(t);var r=this;return r.__filtered__&&(t>0||n<0)?new br(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=Vu(n))<0?r.dropRight(-n):r.take(n-t)),r)},br.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},br.prototype.toArray=function(){return this.take(L)},Kr(br.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),i=_r[a?"take"+("last"==n?"Right":""):n],o=a||/^find/.test(n);i&&(_r.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,l=n instanceof br,c=u[0],s=l||bu(n),f=function(e){var t=i.apply(_r,fn([e],u));return a&&d?t[0]:t};s&&r&&"function"==typeof c&&1!=c.length&&(l=s=!1);var d=this.__chain__,v=!!this.__actions__.length,p=o&&!d,h=l&&!v;if(!o&&s){n=h?n:new br(this);var _=t.apply(n,u);return _.__actions__.push({func:Uo,args:[f],thisArg:e}),new yr(_,d)}return p&&h?t.apply(this,u):(_=this.thru(f),p?a?_.value()[0]:_.value():_)})})),rn(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);_r.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(bu(a)?a:[],e)}return this[n]((function(n){return t.apply(bu(n)?n:[],e)}))}})),Kr(br.prototype,(function(e,t){var n=_r[t];if(n){var r=n.name+"";ft.call(ur,r)||(ur[r]=[]),ur[r].push({name:t,func:n})}})),ur[_i(e,p).name]=[{name:"wrapper",func:e}],br.prototype.clone=function(){var e=new br(this.__wrapped__);return e.__actions__=ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ii(this.__views__),e},br.prototype.reverse=function(){if(this.__filtered__){var e=new br(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},br.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=bu(e),r=t<0,a=n?e.length:0,i=function(e,t,n){for(var r=-1,a=n.length;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Zn(t,e+o);break;case"takeRight":e=Hn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,u=i.end,l=u-o,c=r?u:o-1,s=this.__iteratees__,f=s.length,d=0,v=Zn(l,this.__takeCount__);if(!n||!r&&a==l&&v==l)return Va(e,this.__actions__);var p=[];e:for(;l--&&d<v;){for(var h=-1,_=e[c+=t];++h<f;){var g=s[h],m=g.iteratee,y=g.type,b=m(_);if(y==O)_=b;else if(!b){if(y==A)continue e;break e}}p[d++]=_}return p},_r.prototype.at=Vo,_r.prototype.chain=function(){return Wo(this)},_r.prototype.commit=function(){return new yr(this.value(),this.__chain__)},_r.prototype.next=function(){this.__values__===e&&(this.__values__=Wu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},_r.prototype.plant=function(t){for(var n,r=this;r instanceof mr;){var a=ho(r);a.__index__=0,a.__values__=e,n?i.__wrapped__=a:n=a;var i=a;r=r.__wrapped__}return i.__wrapped__=t,n},_r.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof br){var n=t;return this.__actions__.length&&(n=new br(this)),(n=n.reverse()).__actions__.push({func:Uo,args:[jo],thisArg:e}),new yr(n,this.__chain__)}return this.thru(jo)},_r.prototype.toJSON=_r.prototype.valueOf=_r.prototype.value=function(){return Va(this.__wrapped__,this.__actions__)},_r.prototype.first=_r.prototype.head,At&&(_r.prototype[At]=function(){return this}),_r}();Ft?((Ft.exports=Qn)._=Qn,Vt._=Qn):Ut._=Qn}.call(ie);var ue=r({props:{courtNumber:{type:Number,default:"1"},courtActive:{type:Boolean,default:!1},players:{type:Array,default:[]}},components:{},setup(r,{emit:a}){E();const i=Q(),{width:o,height:u}=function(t={throttle:100}){const n=e(0),r=e(0),a=()=>{n.value=window.innerWidth,r.value=window.innerHeight},i=oe.throttle(a,t.throttle);return b(a),w((()=>{window.addEventListener("resize",i,{passive:!0})})),x((()=>{window.removeEventListener("resize",i)})),{width:n,height:r}}(),{courtActive:l}=g(r),c=e(!1),s=e(),f=e("00:00"),d=e(0),v=t((()=>[{text:`Court ${r.courtNumber}`,value:"full_name",sortable:!1,width:o.value>=2050&&u.value>=1150?260:200,align:"left"},{text:"Level",value:"level",sortable:!1,width:90,align:"left"}])),p=t((()=>{var e;switch(null==(e=i.courtStates[r.courtNumber])?void 0:e.state){case U.Inactive:return"Court Inactive";case U.AwaitingSelection:return"Select Players";case U.SelectingPlayers:return"Cancel Selection";case U.InProgress:return"Complete Play";default:return"Court Inactive"}})),h=t((()=>{var e;switch(null==(e=i.courtStates[r.courtNumber])?void 0:e.state){case U.Inactive:return"person_off";case U.AwaitingSelection:return"person_add_alt";case U.SelectingPlayers:return"person_remove";case U.ConfirmComplete:return"scoreboard";case U.InProgress:return"done";default:return"person_off"}})),_=t((()=>{var e;switch(null==(e=i.courtStates[r.courtNumber])?void 0:e.state){case U.Inactive:return"inactive";case U.AwaitingSelection:return"idle";case U.SelectingPlayers:return"selecting";case U.ConfirmComplete:return"confirming";case U.InProgress:return"in-progress";default:return"idle"}})),m=function(){const t=e(a());return setInterval((()=>{t.value=a()}),1e3),n((()=>[r.players,s.value]),(()=>{t.value=a()})),t;function a(){var e;if((null==(e=i.courtStates[r.courtNumber])?void 0:e.state)!=U.InProgress)return"";var t=0;if(void 0!==s.value&&null!==s.value){t=new Date(Date.now()-s.value.getTime()).getMinutes();t=Math.max(0,Math.min(15,t))}return"court-age-"+t}}(),y=t((()=>o.value>=2050&&u.value>=1150?50:30));function S(){var e;let t=null==(e=i.courtStates[r.courtNumber])?void 0:e.state,n=t;if(!1===l.value?n=U.Inactive:I()?(n=U.InProgress,C()):n=(r.players.length,U.AwaitingSelection),t!==n){const e=i.courtStates[r.courtNumber];void 0!==e&&(e.state=n)}}function C(){const e=i.courtStates[r.courtNumber];if(void 0===s.value||null===s.value)return;if(void 0===e||e.state!=U.InProgress&&e.state!=U.ConfirmComplete)return;d.value=requestAnimationFrame(C);const t=new Date(Date.now()-s.value.getTime());var n=t.getMinutes(),a=t.getSeconds();f.value=k(n,2)+" : "+k(a,2)}function k(e,t){let n=e.toString();for(;n.length<t;)n="0"+n;return n}function I(){const e=r.players.some((e=>""!==e.full_name)),t=r.players.length===N,n=i.courtEvents.filter((e=>e.court===r.courtNumber.toString()&&e.session===i.selectedSessionId&&null===e.date_updated)).length>0;return e&&t&&n}return V.on(F.added_players_to_court,(e=>{e===r.courtNumber&&(void 0!==s.value&&null!==s.value||(s.value=new Date(Date.now())))})),V.on(F.removed_players_from_court,(e=>{e===r.courtNumber&&async function(){if(i.queuedPlayersGroups.length>0){const e=i.queuedPlayersGroups[0];if(void 0!==e&&e.length>0){if(I())return void console.log("There are still players on court. Cannot add queued players to court.");await i.addPlayersToCourt(r.courtNumber,e)}}}()})),n((()=>[l.value,r.players,Object.values(i.courtStates)]),((e,t)=>{S(),C()}),{immediate:!0}),n((()=>[i.courtEvents]),((e,t)=>{!async function(){const e=i.courtEvents.filter((e=>e.court===r.courtNumber.toString()&&null===e.date_updated));e.length>0?s.value=new Date(e[0].date_created):s.value=null}()}),{immediate:!0}),{buttonTitle:p,buttonIcon:h,buttonStatus:_,tableHeaders:v,tableRowHeight:y,courtAgeClass:m,elapsedTimer:f,courtActive:l,onClick:function(e=!0){if(null!==i.playerToSwapOut)return i.playerToSwapOut=null,void(i.playerToSwapCourtNumber=null);let t=i.courtStates[r.courtNumber];if(void 0!==t){let n=t.state,a=n;switch(n){case U.AwaitingSelection:a=U.SelectingPlayers,i.removePlayersFromCourt(r.courtNumber);break;case U.SelectingPlayers:a=U.AwaitingSelection,i.removePlayersFromCourt(r.courtNumber);break;case U.InProgress:a=U.ConfirmComplete,c.value=!0;break;case U.ConfirmComplete:e?(a=U.AwaitingSelection,i.removePlayersFromCourt(r.courtNumber),c.value=!1,clearInterval(d.value),f.value="00:00",s.value=null):(a=U.InProgress,c.value=!1);case U.Inactive:}a!==n&&(t.state=a)}},confirmComplete:c,updateCourtState:S,courtStore:i,getMemberClass:function(e){return null!==i.playerToSwapOut&&i.playerToSwapOut.id===e.id?"swap-player":e.member?"is-member":"non-member"},onSwapPlayer:function(e){null===i.playerToSwapOut?(i.playerToSwapOut=e,i.playerToSwapCourtNumber=r.courtNumber):(i.playerToSwapOut=null,i.playerToSwapCourtNumber=null)},getSwapClass:function(e){return null!==i.playerToSwapOut&&i.playerToSwapOut.id===e.id?"swap-button-on":"swap-button-off"},getSwapIcon:function(e){return null!==i.playerToSwapOut&&i.playerToSwapOut.id===e.id?"cancel":"swap_horiz"}}},watch:{}});const le={class:"court-flex"},ce={class:"court-players-header"};var se;K(".court-flex[data-v-462b800b] {\n  height: 100%;\n  width: 100%;\n  flex-shrink: 1;\n  overflow-x: hidden;\n}\n.court-table[data-v-462b800b] {\n  overflow-x: hidden;\n  margin-bottom: 0.5em;\n  margin-right: 0.5em;\n}\n.court-age-0[data-v-462b800b] {\n  border: 2px solid #ccf4cc;\n}\n.court-age-1[data-v-462b800b] {\n  border: 2px solid #caeac4;\n}\n.court-age-2[data-v-462b800b] {\n  border: 2px solid #c8dfbd;\n}\n.court-age-3[data-v-462b800b] {\n  border: 2px solid #c7d5b5;\n}\n.court-age-4[data-v-462b800b] {\n  border: 2px solid #c5cbae;\n}\n.court-age-5[data-v-462b800b] {\n  border: 2px solid #c3c1a6;\n}\n.court-age-6[data-v-462b800b] {\n  border: 2px solid #c1b69e;\n}\n.court-age-7[data-v-462b800b] {\n  border: 2px solid #bfac97;\n}\n.court-age-8[data-v-462b800b] {\n  border: 2px solid #bea28f;\n}\n.court-age-9[data-v-462b800b] {\n  border: 2px solid #bc9888;\n}\n.court-age-10[data-v-462b800b] {\n  border: 2px solid #ba8d80;\n}\n.court-age-11[data-v-462b800b] {\n  border: 2px solid #b88378;\n}\n.court-age-12[data-v-462b800b] {\n  border: 2px solid #b67971;\n}\n.court-age-13[data-v-462b800b] {\n  border: 2px solid #b56f69;\n}\n.court-age-14[data-v-462b800b] {\n  border: 2px solid #b36462;\n}\n.court-age-15[data-v-462b800b] {\n  border: 2px solid #b15a5a;\n}\n.action-button.inactive[data-v-462b800b] {\n  --v-button-background-color: var(--primary-alt);\n  --v-button-background-color-hover: var(--primary-alt-75);\n}\n.action-button.idle[data-v-462b800b] {\n  --v-button-background-color: var(--primary-110);\n  --v-button-background-color-hover: var(--primary-75);\n}\n.action-button.selecting[data-v-462b800b] {\n  --v-button-background-color: var(--danger);\n  --v-button-background-color-hover: var(--danger-75);\n}\n.action-button.confirming[data-v-462b800b] {\n  --v-button-background-color: var(--warning);\n  --v-button-background-color-hover: var(--warning-75);\n}\n.action-button.in-progress[data-v-462b800b] {\n  --v-button-background-color: var(--success);\n  --v-button-background-color-hover: var(--success-75);\n}\n.non-member[data-v-462b800b] {\n  color: var(--orange-75);\n}\n.swap-button-off[data-v-462b800b] {\n  color: transparent;\n}\n.swap-button-on[data-v-462b800b] {\n  color: var(--background-inverted);\n}\n.swap-button-off[data-v-462b800b]:hover {\n  color: var(--background-inverted);\n}\n.swap-button-on[data-v-462b800b]:hover {\n  color: var(--background-inverted);\n}\n.swap-player[data-v-462b800b] {\n  color: red;\n}\n@media (min-width: 2050px) and (min-height: 1150px) {\n.court-table[data-v-462b800b], .court-players-header[data-v-462b800b], .court-players-name[data-v-462b800b] {\n    font-size: 1.2em;\n}\n}",{}),ue.render=function(e,t,n,r,s,f){const g=a("v-card-title"),m=a("v-card-text"),y=a("v-button"),b=a("v-card-actions"),w=a("v-card"),x=a("v-dialog"),S=a("v-icon"),C=a("v-table");return i(),o("div",le,[u(x,{modelValue:e.confirmComplete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmComplete=t),persistent:"",onEsc:t[3]||(t[3]=t=>e.onClick(!1))},{default:l((()=>[u(w,null,{default:l((()=>[u(g,null,{default:l((()=>[c("Complete Game for Court "+v(e.courtNumber),1)])),_:1}),u(m,null,{default:l((()=>[c("Do you want to clear the court now?")])),_:1}),u(b,null,{default:l((()=>[u(y,{secondary:"",onClick:t[0]||(t[0]=t=>e.onClick(!1))},{default:l((()=>[c("Keep playing")])),_:1}),u(y,{onClick:t[1]||(t[1]=t=>e.onClick(!0))},{default:l((()=>[c("Confirm Complete")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(C,{class:h(["court-table",e.courtAgeClass]),headers:e.tableHeaders,items:e.players,"row-height":e.tableRowHeight,"no-items-text":"Empty Court",inline:""},{"header.full_name":l((({header:t})=>[p("div",ce,v(t.text)+"               "+v(e.elapsedTimer),1),_(" TODO: Put buttons here instead to save vertical real estate ")])),"header.level":l((({header:t})=>[u(y,{class:h(["action-button",e.buttonStatus]),disabled:!e.courtActive,small:!0,icon:"",onClick:e.onClick},{default:l((()=>[u(S,{name:e.buttonIcon},null,8,["name"])])),_:1},8,["class","disabled","onClick"])])),"item.full_name":l((({item:t})=>[p("div",{class:h(["court-players-name",e.getMemberClass(t)])},[c(v(t.full_name)+" ",1),""!==t.full_name?(i(),d(S,{key:0,class:h(e.getSwapClass(t)),name:e.getSwapIcon(t),onClick:n=>e.onSwapPlayer(t)},null,8,["class","name","onClick"])):_("v-if",!0)],2)])),_:2},1032,["class","headers","items","row-height"])])},ue.__scopeId="data-v-462b800b",ue.__file="src/components/Court.vue";const fe="undefined"!=typeof window;function de(e){var t;const n="function"==typeof(r=e)?r():S(r);var r;return null!=(t=null==n?void 0:n.$el)?t:n}fe&&(null==(se=null==window?void 0:window.navigator)?void 0:se.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const ve=fe?window:void 0;function pe(t,n=!1){const r=e(),a=()=>r.value=Boolean(t());return a(),function(e,t=!0){I()?w(e):t?e():A(e)}(a,n),r}fe&&window.document,fe&&window.navigator,fe&&window.location;const he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_e="__vueuse_ssr_handlers__";he[_e]=he[_e]||{},he[_e];var ge,me,ye=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,xe=(e,t)=>{var n={};for(var r in e)be.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ye)for(var r of ye(e))t.indexOf(r)<0&&we.call(e,r)&&(n[r]=e[r]);return n};function Se(e,t,r={}){const a=r,{window:i=ve}=a,o=xe(a,["window"]);let u;const l=pe((()=>i&&"ResizeObserver"in i)),c=()=>{u&&(u.disconnect(),u=void 0)},s=n((()=>de(e)),(e=>{c(),l.value&&i&&e&&(u=new ResizeObserver(t),u.observe(e,o))}),{immediate:!0,flush:"post"}),f=()=>{c(),s()};var d;return d=f,C()&&k(d),{isSupported:l,stop:f}}function Ce(t,r={width:0,height:0},a={}){const{box:i="content-box"}=a,o=e(r.width),u=e(r.height);return Se(t,(([e])=>{const t="border-box"===i?e.borderBoxSize:"content-box"===i?e.contentBoxSize:e.devicePixelContentBoxSize;t?(o.value=t.reduce(((e,{inlineSize:t})=>e+t),0),u.value=t.reduce(((e,{blockSize:t})=>e+t),0)):(o.value=e.contentRect.width,u.value=e.contentRect.height)}),a),n((()=>de(t)),(e=>{o.value=e?r.width:0,u.value=e?r.height:0})),{width:o,height:u}}(me=ge||(ge={})).UP="UP",me.RIGHT="RIGHT",me.DOWN="DOWN",me.LEFT="LEFT",me.NONE="NONE";var ke=Object.defineProperty,Ie=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,Pe=(e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in t||(t={}))Ae.call(t,n)&&Pe(e,n,t[n]);if(Ie)for(var n of Ie(t))Oe.call(t,n)&&Pe(e,n,t[n])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});var je=r({props:{modelValue:{type:String,default:null},collection:{type:String,required:!0},filter:{type:Object,default:null}},emits:["update:modelValue","update:filter"],setup(r,{emit:a}){const{t:i}=q(),o=e(null),u=e(null!==r.modelValue),l=e(!1),c=e(!1),s=O("main-element"),f=e(),{width:d}=Ce(s),{width:v}=Ce(f);n([d,v],(()=>{var e;if(!f.value)return;const t=f.value.parentElement,n=t.offsetWidth-4;v.value>n?f.value.style.borderTopLeftRadius=v.value>n+22?"22px":v.value-n+"px":f.value.style.borderTopLeftRadius="0px";const r=null==(e=null==s?void 0:s.value)?void 0:e.firstElementChild;if(!r)return;const a=t.getBoundingClientRect().right-(r.getBoundingClientRect().left+Number(window.getComputedStyle(r).paddingLeft.replace("px","")));f.value.style.maxWidth=a>n?`${String(a)}px`:"0px"}),{immediate:!0}),n(u,(e=>{!0===e&&null!==o.value&&o.value.focus()}));const p=t((()=>{if(!r.filter)return 0;let e=[];return function t(n){for(const[r,a]of Object.entries(n))"_and"===r||"_or"===r?a.forEach(t):r.startsWith("_")?e.push(r):oe.isObject(a)&&t(a)}(r.filter),e.length}));return{t:i,active:u,disable:function(){},input:o,emitValue:function(){var e;if(!o.value)return;const t=null==(e=o.value)?void 0:e.value;a("update:modelValue",t)},blankInput:function(){o.value.value="",a("update:modelValue","")},activeFilterCount:p,filterActive:l,onClickOutside:function(e){const t=e.path||e.composedPath();return!t.some((e=>{var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains("v-menu-content")}))},filterBorder:c,filterElement:f}}});const Te=["value","placeholder"],Ee={ref:"filterElement",class:"filter"};K('.search-badge[data-v-2eed8ffc] {\n  --v-badge-background-color: var(--primary);\n  --v-badge-offset-y: 8px;\n  --v-badge-offset-x: 8px;\n}\n.search-input[data-v-2eed8ffc] {\n  display: flex;\n  align-items: center;\n  width: 72px;\n  max-width: 100%;\n  height: 44px;\n  overflow: hidden;\n  border: 2px solid var(--border-normal);\n  border-radius: 22px;\n  transition: width var(--slow) var(--transition), border-bottom-left-radius var(--fast) var(--transition), border-bottom-right-radius var(--fast) var(--transition);\n}\n.search-input .icon-empty[data-v-2eed8ffc] {\n  --v-icon-color: var(--foreground-subdued);\n  display: none;\n  margin-left: 8px;\n}\n.search-input .icon-empty[data-v-2eed8ffc]:hover {\n  --v-icon-color: var(--danger);\n}\n.search-input .icon-search[data-v-2eed8ffc],\n.search-input .icon-filter[data-v-2eed8ffc] {\n  --v-icon-color-hover: var(--primary);\n}\n.search-input .icon-search[data-v-2eed8ffc] {\n  margin: 0 8px;\n  margin-right: 4px;\n}\n.search-input .icon-filter[data-v-2eed8ffc] {\n  margin: 0 8px;\n  margin-left: 0;\n}\n.search-input[data-v-2eed8ffc]:hover {\n  border-color: var(--border-normal-alt);\n}\n.search-input.has-content[data-v-2eed8ffc] {\n  width: 200px;\n}\n.search-input.has-content .icon-empty[data-v-2eed8ffc] {\n  display: block;\n}\n.search-input.has-content .icon-filter[data-v-2eed8ffc] {\n  margin-left: 0;\n}\n.search-input.active[data-v-2eed8ffc] {\n  width: 300px;\n  border-color: var(--border-normal);\n}\n.search-input.active .icon-empty[data-v-2eed8ffc] {\n  display: block;\n}\n.search-input.filter-active[data-v-2eed8ffc] {\n  width: 200px;\n}\n.search-input.filter-active .icon-filter[data-v-2eed8ffc] {\n  --v-icon-color: var(--primary);\n}\n@media (min-width: 600px) {\n.search-input.filter-active[data-v-2eed8ffc] {\n    width: 250px;\n}\n}\n@media (min-width: 960px) {\n.search-input.filter-active[data-v-2eed8ffc] {\n    width: 300px;\n}\n}\n@media (min-width: 1260px) {\n.search-input.filter-active[data-v-2eed8ffc] {\n    width: 420px; /* blaze it */\n}\n}\n.search-input.filter-border[data-v-2eed8ffc] {\n  padding-bottom: 2px;\n  border-bottom: none;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n  transition: border-bottom-left-radius none, border-bottom-right-radius none;\n}\n.search-input.filter-border[data-v-2eed8ffc]::after {\n  position: absolute;\n  right: 2px;\n  bottom: -2px;\n  left: 2px;\n  width: auto;\n  height: 2px;\n  background-color: var(--border-subdued);\n  content: "";\n  pointer-events: none;\n}\n.search-input input[data-v-2eed8ffc] {\n  flex-grow: 1;\n  width: 0px;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  color: var(--foreground-normal);\n  text-overflow: ellipsis;\n  background-color: var(--background-page);\n  border: none;\n  border-radius: 0;\n}\n.search-input input[data-v-2eed8ffc]::placeholder {\n  color: var(--foreground-subdued);\n}\n.value[data-v-2eed8ffc] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.filter[data-v-2eed8ffc] {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  width: auto;\n  min-width: 100%;\n  padding: 0;\n  background-color: var(--background-subdued);\n  border: 2px solid var(--border-normal);\n  border-bottom-right-radius: 22px;\n  border-bottom-left-radius: 22px;\n}\n.filter-input[data-v-2eed8ffc] {\n  /* Use margin instead of padding to make sure transition expand takes it into account */\n  margin: 10px 8px;\n}',{}),je.render=function(e,t,n,r,c,s){const f=a("v-icon"),v=a("interface-system-filter"),g=a("transition-expand"),b=a("v-badge"),w=m("tooltip"),x=m("click-outside");return i(),d(b,{bottom:"",right:"",class:"search-badge",value:e.activeFilterCount,disabled:!e.activeFilterCount||e.filterActive},{default:l((()=>[y((i(),o("div",{class:h(["search-input",{active:e.active,"filter-active":e.filterActive,"has-content":!!e.modelValue,"filter-border":e.filterBorder}]),onClick:t[6]||(t[6]=t=>e.active=!0)},[y(u(f,{name:"search",class:"icon-search",clickable:!e.active},null,8,["clickable"]),[[w,e.active?null:e.t("search"),void 0,{bottom:!0}]]),p("input",{ref:"input",value:e.modelValue,placeholder:e.t("search_items"),onKeyup:t[0]||(t[0]=P(((...t)=>e.blankInput&&e.blankInput(...t)),["esc"])),onInput:t[1]||(t[1]=(...t)=>e.emitValue&&e.emitValue(...t)),onPaste:t[2]||(t[2]=(...t)=>e.emitValue&&e.emitValue(...t))},null,40,Te),e.modelValue?(i(),d(f,{key:0,clickable:"",class:"icon-empty",name:"close",onClick:j(e.blankInput,["stop"])},null,8,["onClick"])):_("v-if",!0),_(" @click.stop=\"$emit('update:modelValue', null)\" "),_(' <v-icon\n\t\t\t\tv-tooltip.bottom="t(\'filter\')"\n\t\t\t\tclickable\n\t\t\t\tclass="icon-filter"\n\t\t\t\tname="filter_list"\n\t\t\t\t@click="filterActive = !filterActive"\n\t\t\t/> '),u(g,{onBeforeEnter:t[4]||(t[4]=t=>e.filterBorder=!0),onAfterLeave:t[5]||(t[5]=t=>e.filterBorder=!1)},{default:l((()=>[y(p("div",Ee,[u(v,{class:"filter-input",inline:"",value:e.filter,"collection-name":e.collection,onInput:t[3]||(t[3]=t=>e.$emit("update:filter",t))},null,8,["value","collection-name"])],512),[[T,e.filterActive]])])),_:1})],2)),[[x,{handler:e.disable,middleware:e.onClickOutside}]])])),_:1},8,["value","disabled"])},je.__scopeId="data-v-2eed8ffc",je.__file="src/components/SearchInput.vue";var Le=r({props:{player:{type:Object,required:!0}},components:{},setup(t,{emit:r}){const a=Q(),i=e(o());return n((()=>[a.sessionPlayers]),(()=>{o()})),{courtStore:a,attending:i,toggle:function(e,t){if(i.value===t)return;i.value=t,r("attending",t)}};function o(){const e=a.sessionPlayers.find((e=>e.player_id===t.player.id));return!!e&&e.attended}},watch:{}});let Re;Le.render=function(e,t,n,r,c,s){const f=a("v-checkbox"),d=a("v-list-item");return i(),o("div",null,[u(d,{onClick:t[1]||(t[1]=t=>e.toggle(e.player.id,!e.attending))},{default:l((()=>[u(f,{"model-value":e.attending,label:e.player.full_name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.toggle(e.player.id,t))},null,8,["model-value","label"])])),_:1})])},Le.__file="src/components/AttendanceSelector.vue";var De=r({props:{},components:{SearchInput:je,AttendanceSelector:Le},setup(r){const a=Q(),i=e(""),o=function(){const r=t((()=>Array.from({length:27},((e,t)=>String.fromCharCode(64+t))))),o=e(new Map);return n((()=>[a.playersDirectory,i.value]),(function(){if(r.value.forEach((e=>{const t=Array();a.playersDirectory.filter((t=>t.first_name&&t.first_name.startsWith(e))).forEach((e=>{const n=a.sessionPlayers.find((t=>t.player_id===e.id));t.push({id:e.id,first_name:e.first_name,last_name:e.last_name,full_name:`${e.first_name} ${e.last_name}`,level:Number(e.level),pause:!!n&&n.paused,member:a.isPlayerACurrentMember(e),last_active:e.date_updated?new Date(e.date_updated):new Date(e.date_created)})})),o.value.set(e,t.sort(((e,t)=>e.first_name>t.first_name?1:-1)))})),""!==i.value)for(const[e,t]of o.value){const n=t.filter((e=>e.full_name.toLowerCase().includes(i.value.toLowerCase())));o.value.set(e,n)}return o}),{immediate:!0}),o}(),u=e(Array());return n((()=>a.selectedSessionId),(()=>{l()})),{courtStore:a,playersGrouped:o,toggle:function(e,t){console.log(`Toggled ${e} to ${t}`);const n=u.value.find((t=>t.id===e));n?n.attending=t:u.value.push({id:e,attending:t});Re&&clearTimeout(Re);Re=setTimeout((()=>{a.commitSessionPlayersChanges(u.value),u.value=[]}),1e3)},sessionUpdated:l,playerSearch:i};function l(e,t){e&&a.refreshSessionPlayers()}},watch:{}});const Me={class:"players-list"};K(".players-list[data-v-4bb25e0e] {\n  overflow-y: scroll;\n  position: relative;\n  max-height: calc(95vh - 60px - 45px - 38px);\n}\n.players-list .attendance-section[data-v-4bb25e0e] {\n  margin-top: 2rem;\n  margin-bottom: 1rem;\n}\n.players-list .attendance-player[data-v-4bb25e0e] {\n  margin-bottom: 0.5rem;\n}",{}),De.render=function(e,t,n,r,h,g){const m=a("SearchInput"),y=a("v-item"),b=a("v-item-group"),w=a("AttendanceSelector"),x=a("v-list");return i(),o("div",null,[u(m,{modelValue:e.playerSearch,"onUpdate:modelValue":t[0]||(t[0]=t=>e.playerSearch=t),collection:"ht_directory"},null,8,["modelValue"]),p("div",Me,[(i(!0),o(s,null,f(e.playersGrouped.keys(),(t=>(i(),o("div",{key:t},[e.playersGrouped.get(t).length>0?(i(),d(x,{key:0,multiple:""},{default:l((()=>[u(b,null,{default:l((()=>[u(y,null,{default:l((()=>[c(v(t),1)])),_:2},1024)])),_:2},1024),(i(!0),o(s,null,f(e.playersGrouped.get(t),(t=>(i(),d(w,{key:t.id,ref_for:!0,ref:"attendanceSelector",player:t,onAttending:n=>e.toggle(t.id,n)},null,8,["player","onAttending"])))),128))])),_:2},1024)):_("v-if",!0)])))),128))])])},De.__scopeId="data-v-4bb25e0e",De.__file="src/components/PlayersAttendanceList.vue";var qe=r({components:{SessionSelect:Y,WaitList:X,QueueList:G,Court:ue,PlayersAttendanceList:De},setup(){const t=Q(),r=e(["wait-list"]);return n((()=>[r.value]),(()=>{r.value.includes("attendance")?(t.pauseAppRefreshItem(W.Players),t.pauseAppRefreshItem(W.Directory)):(t.resumeAppRefreshItem(W.Players),t.resumeAppRefreshItem(W.Directory))})),{courtStore:t,activeTab:r,colors:["primary","secondary","success","danger","warning","info","light","dark"]}}});const Ne={class:"layout-container"},ze={class:"left-panel align-items-center"},Be={class:"mb-2"},$e={class:"queue-list"},We=p("b",null,"No players queued",-1),Ue={class:"court-container align-items-center"};K(".layout-container {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px;\n}\n@media (min-width: 768px) {\n.layout-container {\n    grid-template-columns: minmax(330px, 0.6fr) 3fr;\n}\n}\n@media (min-width: 1367px) {\n.layout-container {\n    grid-template-columns: minmax(330px, 0.6fr) minmax(300px, 0.6fr) 3fr;\n}\n}\n.layout-container .left-panel {\n  width: 100%;\n  height: 100%;\n  overflow-y: hidden;\n}\n.layout-container .queue-list {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overscroll-behavior: contain;\n  max-height: calc(95vh - 60px);\n}\n.layout-container .queue-list .queue-item {\n  margin-bottom: 0.5em;\n}\n@media (max-width: 1366px) {\n.layout-container .queue-list {\n    width: 0;\n    height: 0;\n    display: none;\n}\n}\n.layout-container .court-container {\n  width: 100%;\n  display: grid;\n  height: calc(95vh - 60px);\n  grid-template-columns: repeat(1, minmax(min-content, 1fr));\n}\n@media (min-width: 768px) {\n.layout-container .court-container {\n    grid-template-columns: repeat(2, minmax(min-content, 1fr));\n}\n}\n@media (min-width: 1180px) {\n.layout-container .court-container {\n    grid-template-columns: repeat(3, minmax(min-content, 1fr));\n}\n}\n@media (min-width: 1367px) {\n.layout-container .court-container {\n    grid-template-columns: repeat(2, minmax(min-content, 1fr));\n}\n}\n@media (min-width: 1720px) {\n.layout-container .court-container {\n    grid-template-columns: repeat(3, minmax(min-content, 1fr));\n}\n}\n@media (min-width: 2050px) {\n.layout-container .court-container {\n    grid-template-columns: repeat(4, minmax(min-content, 1fr));\n}\n}\n.layout-container .court-container .individual-court {\n  display: inline-grid;\n  flex-wrap: wrap;\n}",{}),qe.render=function(e,t,n,r,v,h){const g=a("SessionSelect"),m=a("v-tab"),y=a("v-tabs"),b=a("WaitList"),w=a("v-tab-item"),x=a("PlayersAttendanceList"),S=a("v-tabs-items"),C=a("v-notice"),k=a("QueueList"),I=a("Court");return i(),o("div",Ne,[p("div",ze,[_(" Wait list and attendance "),p("div",Be,[u(g)]),u(y,{class:"mb-2",modelValue:e.activeTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeTab=t)},{default:l((()=>[u(m,{value:"wait-list"},{default:l((()=>[c("Wait List")])),_:1}),u(m,{value:"attendance"},{default:l((()=>[c("Attendance")])),_:1})])),_:1},8,["modelValue"]),u(S,{modelValue:e.activeTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activeTab=t)},{default:l((()=>[u(w,{value:"wait-list"},{default:l((()=>[p("div",null,[u(b)])])),_:1}),u(w,{value:"attendance"},{default:l((()=>[p("div",null,[u(x)])])),_:1})])),_:1},8,["modelValue"])]),p("div",$e,[0===e.courtStore.queuedPlayersGroups.length?(i(),d(C,{key:0,class:"mb-2",type:"info"},{default:l((()=>[We])),_:1})):_("v-if",!0),(i(!0),o(s,null,f(e.courtStore.queuedPlayersGroups,(e=>(i(),o("div",{class:"queue-item",key:e},[u(k,{players:e},null,8,["players"])])))),128))]),p("div",Ue,[(i(),o(s,null,f(12,(t=>p("div",{class:"individual-court",key:t},[u(I,{courtNumber:t,courtActive:e.courtStore.activeCourts.includes(t),players:e.courtStore.courtStates[t]?.players},null,8,["courtNumber","courtActive","players"])]))),64))])])},qe.__file="src/CourtsLayout.vue";var Ve=R({id:"court",name:"Court",icon:"grid_view",component:qe,smallHeader:!0,slots:{options:()=>null,sidebar:()=>null,actions:()=>null},setup:()=>({name:e("Courts Layout")})});export{Ve as default};
